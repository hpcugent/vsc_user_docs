
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.1, mkdocs-material-8.3.9">
    
    
      
        <title>Configure access and security for instance - VSC Tier-1 Cloud Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.1d29e8d0.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#configure-access-and-security-for-instance" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="VSC Tier-1 Cloud Documentation" class="md-header__button md-logo" aria-label="VSC Tier-1 Cloud Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            VSC Tier-1 Cloud Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Configure access and security for instance
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="VSC Tier-1 Cloud Documentation" class="md-nav__button md-logo" aria-label="VSC Tier-1 Cloud Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    VSC Tier-1 Cloud Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../introduction/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../access/" class="md-nav__link">
        Access to the VSC Cloud
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../dashboard/" class="md-nav__link">
        The OpenStack Dashboard
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../manage_images/" class="md-nav__link">
        Upload and manage images
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../flavors/" class="md-nav__link">
        Instance types and flavors
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Configure access and security for instance
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Configure access and security for instance
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-_vm-_vsc-and-_nfs-networks" class="md-nav__link">
    The _vm, _vsc and _nfs networks
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#floating-ip-addresses" class="md-nav__link">
    Floating IP addresses
  </a>
  
    <nav class="md-nav" aria-label="Floating IP addresses">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#floating-ip-port-forwarding" class="md-nav__link">
    Floating ip port forwarding
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#associate-a-floating-ip" class="md-nav__link">
    Associate a floating ip
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security-groups" class="md-nav__link">
    Security Groups
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ssh-key-pairs" class="md-nav__link">
    SSH key pairs
  </a>
  
    <nav class="md-nav" aria-label="SSH key pairs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#add-a-key-pair" class="md-nav__link">
    Add a key pair
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#import-a-key-pair" class="md-nav__link">
    Import a key pair
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../launch_instance/" class="md-nav__link">
        Launch and manage instances
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../manage_volumes/" class="md-nav__link">
        Create and manage volumes
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../heat_templates/" class="md-nav__link">
        Orchestration Using Heat
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../terraform/" class="md-nav__link">
        Orchestration Using Terraform
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../shares/" class="md-nav__link">
        Shared file systems using Manila
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../gpus/" class="md-nav__link">
        GPUs
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../appendix/" class="md-nav__link">
        Appendix
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-_vm-_vsc-and-_nfs-networks" class="md-nav__link">
    The _vm, _vsc and _nfs networks
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#floating-ip-addresses" class="md-nav__link">
    Floating IP addresses
  </a>
  
    <nav class="md-nav" aria-label="Floating IP addresses">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#floating-ip-port-forwarding" class="md-nav__link">
    Floating ip port forwarding
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#associate-a-floating-ip" class="md-nav__link">
    Associate a floating ip
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security-groups" class="md-nav__link">
    Security Groups
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ssh-key-pairs" class="md-nav__link">
    SSH key pairs
  </a>
  
    <nav class="md-nav" aria-label="SSH key pairs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#add-a-key-pair" class="md-nav__link">
    Add a key pair
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#import-a-key-pair" class="md-nav__link">
    Import a key pair
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


<h1 id="configure-access-and-security-for-instance">Configure access and security for instance<a class="headerlink" href="#configure-access-and-security-for-instance" title="Permanent link">#</a></h1>
<p>The security and accessibility of your cloud resources is governed by a
few different aspects, which we discuss more detail in the following
sections:</p>
<ul>
<li>
<p>Instances must connect to the project's _vm network in order to get
    external internet access (see section
    <a href="#the-_vm-_vsc-and-_nfs-networks">_vm, _vsc and _nfs networks</a>).</p>
</li>
<li>
<p>Each cloud project can use one floating IP, a public IP address
    which you'll need to link to the resources you want to access.
    Optionally, if the project has requested access to VSC network it
    will receive also three VSC floating IPs (see section
    <a href="#floating-ip-addresses">floating IP addresses</a>).</p>
</li>
<li>
<p>By default, the UGent firewall blocks most IP addresses and ports.
    Only the port (TCP) range <strong>50000-60000</strong> for the public floating IP addresses
    is open by default. Contact <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#99;&#108;&#111;&#117;&#100;&#64;&#118;&#115;&#99;&#101;&#110;&#116;&#114;&#117;&#109;&#46;&#98;&#101;">&#99;&#108;&#111;&#117;&#100;&#64;&#118;&#115;&#99;&#101;&#110;&#116;&#114;&#117;&#109;&#46;&#98;&#101;</a> if you need to access other ports from
    the outside world.</p>
</li>
<li>
<p>The <abbr title="OpenStack (https://www.openstack.org) is a free and open-source software platform for cloud computing, mostly deployed as infrastructure-as-a-service (IaaS), whereby virtual servers and other resources are made available to customers">OpenStack</abbr> environment has its own internal firewalls, which
    block most ports of your instances by default. If you want to access
    specific ports of your instances, you must create "Security Groups"
    which allow access to those ports (see section
    <a href="#security-groups">security groups</a>).</p>
</li>
<li>
<p>You can use one or more <abbr title="Secure Shell (SSH), sometimes known as Secure Socket Shell, is a Unix-based command interface and protocol for securely getting access to a remote computer. It is widely used by network administrators to control Web and other kinds of servers remotely. SSH is actually a suite of three utilities (slogin, ssh, and scp) that are secure versions of the earlier UNIX utilities, rlogin, rsh, and rcp. SSH commands are encrypted and secure in several ways. Both ends of the client/server connection are authenticated using a digital certificate, and passwords are protected by encryption. Popular implementations include OpenSSH on Linux/Mac and Putty on Windows.">SSH</abbr> keys from your VSC account to access
    your instances (see section
    <a href="#ssh-key-pairs"><abbr title="Secure Shell (SSH), sometimes known as Secure Socket Shell, is a Unix-based command interface and protocol for securely getting access to a remote computer. It is widely used by network administrators to control Web and other kinds of servers remotely. SSH is actually a suite of three utilities (slogin, ssh, and scp) that are secure versions of the earlier UNIX utilities, rlogin, rsh, and rcp. SSH commands are encrypted and secure in several ways. Both ends of the client/server connection are authenticated using a digital certificate, and passwords are protected by encryption. Popular implementations include OpenSSH on Linux/Mac and Putty on Windows.">SSH</abbr> key pairs</a>).</p>
</li>
</ul>
<p>For other access methods, or <abbr title="Secure Shell (SSH), sometimes known as Secure Socket Shell, is a Unix-based command interface and protocol for securely getting access to a remote computer. It is widely used by network administrators to control Web and other kinds of servers remotely. SSH is actually a suite of three utilities (slogin, ssh, and scp) that are secure versions of the earlier UNIX utilities, rlogin, rsh, and rcp. SSH commands are encrypted and secure in several ways. Both ends of the client/server connection are authenticated using a digital certificate, and passwords are protected by encryption. Popular implementations include OpenSSH on Linux/Mac and Putty on Windows.">SSH</abbr> authentication for a wider set of
users, you'll need to set up some form of identity management yourself.
This system administration task is beyond the scope of our tutorial.</p>
<h2 id="the-_vm-_vsc-and-_nfs-networks">The _vm, _vsc and _<abbr title="Network File System, a protocol for sharing file systems across a network, often used on Unix(-like) operating systems.">nfs</abbr> networks<a class="headerlink" href="#the-_vm-_vsc-and-_nfs-networks" title="Permanent link">#</a></h2>
<p>Each project in the VSC cloud has its own network <em><code>&lt;projectname&gt;</code></em><code>_vm</code>
and --- if the project uses shares and/or vsc networks ---
<em><code>&lt;projectname&gt;</code></em><code>_nfs</code> and <em><code>&lt;projectname&gt;</code></em><code>_vsc</code> respectively. Each
is a subnet of 254 addresses, with an ip range 10.10.x.0/24, where <em>x</em>
is a number that depends on the project and network. To see the subnets
for your project's networks, open the Network tab, and select Networks.</p>
<p>Instances should use the _vm network for communication, and the _<abbr title="Network File System, a protocol for sharing file systems across a network, often used on Unix(-like) operating systems.">nfs</abbr>
network if they need access to shared file systems (see chapter
<a href="../shares/#shared-file-systems-using-manila">shared file systems</a>).
On the other hand _vsc network
is used to connect to or provide VSC services via VSC network and
floating or dedicated project's VSC IPs. When an instance is created in
<abbr title="OpenStack (https://www.openstack.org) is a free and open-source software platform for cloud computing, mostly deployed as infrastructure-as-a-service (IaaS), whereby virtual servers and other resources are made available to customers">OpenStack</abbr> and connected to the _vm, _<abbr title="Network File System, a protocol for sharing file systems across a network, often used on Unix(-like) operating systems.">nfs</abbr> or _vsc networks, it is automatically
assigned a fixed local IP address in that network. This IP address is
permanently associated with the instance until the instance is
terminated.</p>
<h2 id="floating-ip-addresses">Floating IP addresses<a class="headerlink" href="#floating-ip-addresses" title="Permanent link">#</a></h2>
<p>The _vm, _<abbr title="Network File System, a protocol for sharing file systems across a network, often used on Unix(-like) operating systems.">nfs</abbr> and _vsc networks can only be reached from within the
<abbr title="OpenStack (https://www.openstack.org) is a free and open-source software platform for cloud computing, mostly deployed as infrastructure-as-a-service (IaaS), whereby virtual servers and other resources are made available to customers">OpenStack</abbr> environment. If you need to access an instance from the
outside, you need to use one of your project's floating IP addresses,
which are public IP addresses (193.190.80.0/25 IPs for _vm network) or
VSC IP addresses (172.24.48.0/20 IPs for _vsc network). Unlike fixed IP
addresses, floating IP addresses can have their associations modified at
any time, regardless of the state of the instances involved.</p>
<p>Do not release the floating IPs assigned to your project. The floating
IPs are fixed to the project and it is not possible, as regular user, to
re-allocate floating IPs. Please contact to VSC Tier1 Cloud support if
you have released your project's floating IPs by mistake.</p>
<p>This section explains how to make your instance accessible via a public
IP address by two different methods. The preferred method for _vm
network is to use port forwarding to access multiple instances using the
same public IP address, but you can also use a "floating IP association"
for quick tests or _vsc network.</p>
<h3 id="floating-ip-port-forwarding">Floating ip port forwarding<a class="headerlink" href="#floating-ip-port-forwarding" title="Permanent link">#</a></h3>
<p><abbr title="OpenStack (https://www.openstack.org) is a free and open-source software platform for cloud computing, mostly deployed as infrastructure-as-a-service (IaaS), whereby virtual servers and other resources are made available to customers">OpenStack</abbr>'s networking API, called Neutron, makes it possible to forward
different ports of the same floating ip to arbitrary ports in one of
<abbr title="OpenStack (https://www.openstack.org) is a free and open-source software platform for cloud computing, mostly deployed as infrastructure-as-a-service (IaaS), whereby virtual servers and other resources are made available to customers">OpenStack</abbr>'s virtual networks. This is the recommended way to use
floating ip's in the VSC cloud. For the floating IP's available in the
VSC Cloud, the high port range 50000-60000 is open to the outside world,
so it is most convenient to work with ports from this range. Contact if
you need public access to another port for a specific ip address.</p>
<p>You'll need to forward a separate port for every service you wish to
reach. For example, if you want to access an instance using <abbr title="Secure Shell (SSH), sometimes known as Secure Socket Shell, is a Unix-based command interface and protocol for securely getting access to a remote computer. It is widely used by network administrators to control Web and other kinds of servers remotely. SSH is actually a suite of three utilities (slogin, ssh, and scp) that are secure versions of the earlier UNIX utilities, rlogin, rsh, and rcp. SSH commands are encrypted and secure in several ways. Both ends of the client/server connection are authenticated using a digital certificate, and passwords are protected by encryption. Popular implementations include OpenSSH on Linux/Mac and Putty on Windows.">SSH</abbr>, you'll
need to create a port forwarding rule from a selected port of the
floating IP, to the port in the _vm network where your instance's <abbr title="Secure Shell (SSH), sometimes known as Secure Socket Shell, is a Unix-based command interface and protocol for securely getting access to a remote computer. It is widely used by network administrators to control Web and other kinds of servers remotely. SSH is actually a suite of three utilities (slogin, ssh, and scp) that are secure versions of the earlier UNIX utilities, rlogin, rsh, and rcp. SSH commands are encrypted and secure in several ways. Both ends of the client/server connection are authenticated using a digital certificate, and passwords are protected by encryption. Popular implementations include OpenSSH on Linux/Mac and Putty on Windows.">SSH</abbr>
server is listening (typically port 22).</p>
<p>You can quickly set up such forwarding rules using
<code>neutron_port_forward</code>, a command line tool available on the UGent login
<abbr title="A node attribute is a non-quantitative aspect of a node. Attributes typically describe the node itself or possibly aspects of various node resources such as processors or memory. While it is probably not optimal to aggregate node and resource attributes together in this manner, it is common practice. Common node attributes include processor architecture, operating system, and processor speed. Jobs often specify that resources be allocated from nodes possessing certain node attributes.">node</abbr>, <strong>login.hpc.ugent.be</strong>. In order to use it, you must create an
application credential for the role "User", and save it as an openrc
file (see section <a href="../access/#application-credentials">application credentials</a>
on page ). Transfer the openrc file to your
VSC storage space, so <em>neutron_port_forward</em> can read it. To set up new
port forwarding rules, run the script providing the path to the openrc
file as an argument to the <em>-o</em> option, and a file describing your port
forwarding configuration as argument to the <em>-m</em> option:</p>
<div class="highlight"><pre><span></span><code>neutron_port_forward -o &lt;openrc file&gt; -m &lt;ini-file&gt;
</code></pre></div>
<p>The following is an example configuration file:</p>
<div class="highlight"><pre><span></span><code>[DEFAULT]
floatingip=193.190.85.40
network=_vm

[classa]
pattern=classa-(+̣)
22=52000:100:22
5900=55900

[classb]
pattern=classb-(+̣)
80=52080
</code></pre></div>
<p>Here we define defaults for the floating ip and target network, and two
classes. Instances are assigned to a class if their name matches the
regular expression given in <code>pattern</code>. The value of <code>pattern</code> must be a
valid Python regular expression, and the first capturing group (if any)
must match an integer.</p>
<p>Port forwarding rules are given in the form
<code>target=source(:multiplier:offset)</code>. This will set up a forwarding rule
from the floating IP port:</p>
<blockquote>
<p>(source + multiplier ∗ i + offset) → target ,</p>
</blockquote>
<p>where <strong><em>i</em></strong> is the integer matched by the first capturing group, and
"target" is a port of the fixed IP for the instance in the chosen
network, in this case the _vm network. "multiplier" and "offset" are
optional and default to 1 and 0 respectively. In our example, this
results in the following set of port forwarding rules for the public IP
address 193.190.85.40:</p>
<div class="highlight"><pre><span></span><code>  52122   -&gt;   classa-1:22
  52222   -&gt;   classa-2:22
  ...     
  55901   -&gt;   classa-1:5900
  55902   -&gt;   classa-2:5900
  ...     
  52081   -&gt;   classb-1:80
  52082   -&gt;   classb-2:80
  ...     
</code></pre></div>
<p>This is another basic port forwarding configuration example without
patterns, in this case just to connect via <abbr title="Secure Shell (SSH), sometimes known as Secure Socket Shell, is a Unix-based command interface and protocol for securely getting access to a remote computer. It is widely used by network administrators to control Web and other kinds of servers remotely. SSH is actually a suite of three utilities (slogin, ssh, and scp) that are secure versions of the earlier UNIX utilities, rlogin, rsh, and rcp. SSH commands are encrypted and secure in several ways. Both ends of the client/server connection are authenticated using a digital certificate, and passwords are protected by encryption. Popular implementations include OpenSSH on Linux/Mac and Putty on Windows.">SSH</abbr> using external port 52000
to a running VM called testvm:</p>
<div class="highlight"><pre><span></span><code>[DEFAULT]
floatingip=193.190.85.40
network=_vm

[testvm]
22=52000
</code></pre></div>
<p>You can also see an overview of existing port forwarding rules for the
ip addresses in your configuration file using
<em>neutron_port_forward --show</em>. Each rule has an internal id, which you
can see if you combine the options <em>--show</em> and <em>--id</em> as follows:</p>
<div class="highlight"><pre><span></span><code>neutron_port_forward -o &lt;openrc file&gt; -m &lt;ini-file&gt; --show --id
</code></pre></div>
<p>To remove port forwarding rules, use the option
<code>--remove=&lt;list of id's&gt;</code> with a comma-separated list of the id's of the
rules you want to remove.</p>
<p>Please note that when you remove and reinstantiate a VM, <abbr title="OpenStack (https://www.openstack.org) is a free and open-source software platform for cloud computing, mostly deployed as infrastructure-as-a-service (IaaS), whereby virtual servers and other resources are made available to customers">OpenStack</abbr> also
removes the port forwarding rules assigned to this VM automatically. If
you intantiate again the same VM you should run <code>neutron_port_forward</code>
and restore the port forwarding rules.</p>
<p><code>neutron_port_forward</code> provides a few more options and advanced
features, run the command with the <code>--help</code> option for more information.</p>
<h3 id="associate-a-floating-ip">Associate a floating ip<a class="headerlink" href="#associate-a-floating-ip" title="Permanent link">#</a></h3>
<p>A floating IP address can also be associated to an instance, just like
the fixed IP addresses. Because this approach uses one of the few
available floating ip addresses for every instance you want to connect
to, you should only use it for testing purposes with _vm network or
with _vsc network.</p>
<p>If you want to use a floating ip for port forwarding as in the previous
section, it cannot be associated to an instance at the same time.</p>
<p>Use the following procedure to associate that address with a specific
instance.</p>
<ol>
<li>
<p>Open the Network tab.</p>
</li>
<li>
<p>Click the Floating IPs tab, which shows the floating IP addresses
    allocated to your project.</p>
</li>
<li>
<p>In the Floating IPs list, click Associate next to the address you
    want.</p>
</li>
<li>
<p>In the Manage Floating IP Associations dialog box, choose the
    following options:</p>
<ul>
<li>
<p><strong>IP Address</strong>
This field is filled automatically.</p>
</li>
<li>
<p><strong>Port to be associated</strong>
Select a port from the list. The list shows all the instances
with their fixed IP addresses.</p>
</li>
</ul>
</li>
<li>
<p>Click <strong>Associate</strong>.</p>
</li>
</ol>
<p>Another way to associate a floating IP is after the user has already
launched an instance which appears in the list of running instances in
the Project-&gt;Compute-&gt;Instances tab:</p>
<ol>
<li>
<p>Expand the drop-down menu on right next to the instance</p>
</li>
<li>
<p>Select Associate Floating IP</p>
<p><img alt="image" src="../img/associate_IP_1.png" /></p>
</li>
<li>
<p>A pop-up window will appear and under IP Address select from the
    drop-down menu an IP address from the available pool.</p>
<p><img alt="image" src="../img/associate_IP_2.png" /></p>
</li>
<li>
<p>Click Associate</p>
</li>
</ol>
<p>If the IP has been successfully associated in the upper right corner of
the browser screen will appear a green confirmation. If not successful a
red notification will pop up that something went wrong.</p>
<p>To disassociate an IP address from an instance, click the Disassociate
button in the Actions column.</p>
<p><em>Do not</em> use the Release Floating IP option in the Actions column or on
the overview page. This will remove the floating IP from the pool
assigned to your project, something which you, as a regular user, cannot
undo. If you've accidentally released a floating IP, contact to have it
restored.</p>
<h2 id="security-groups">Security Groups<a class="headerlink" href="#security-groups" title="Permanent link">#</a></h2>
<p><abbr title="OpenStack (https://www.openstack.org) is a free and open-source software platform for cloud computing, mostly deployed as infrastructure-as-a-service (IaaS), whereby virtual servers and other resources are made available to customers">OpenStack</abbr> security groups are sets of IP filter rules that define
networking access. You can then assign one or more security groups to
your instances.</p>
<p>In the VSC cloud, each project contains a default security group, which
allows you to ping instances and connect using <abbr title="Secure Shell (SSH), sometimes known as Secure Socket Shell, is a Unix-based command interface and protocol for securely getting access to a remote computer. It is widely used by network administrators to control Web and other kinds of servers remotely. SSH is actually a suite of three utilities (slogin, ssh, and scp) that are secure versions of the earlier UNIX utilities, rlogin, rsh, and rcp. SSH commands are encrypted and secure in several ways. Both ends of the client/server connection are authenticated using a digital certificate, and passwords are protected by encryption. Popular implementations include OpenSSH on Linux/Mac and Putty on Windows.">SSH</abbr> on the default port
22. If you want to access other ports on your instances, create new
security groups with the appropriate rules and assign them to the
instances.</p>
<h2 id="ssh-key-pairs"><abbr title="Secure Shell (SSH), sometimes known as Secure Socket Shell, is a Unix-based command interface and protocol for securely getting access to a remote computer. It is widely used by network administrators to control Web and other kinds of servers remotely. SSH is actually a suite of three utilities (slogin, ssh, and scp) that are secure versions of the earlier UNIX utilities, rlogin, rsh, and rcp. SSH commands are encrypted and secure in several ways. Both ends of the client/server connection are authenticated using a digital certificate, and passwords are protected by encryption. Popular implementations include OpenSSH on Linux/Mac and Putty on Windows.">SSH</abbr> key pairs<a class="headerlink" href="#ssh-key-pairs" title="Permanent link">#</a></h2>
<p>When an instance is launched, <abbr title="OpenStack (https://www.openstack.org) is a free and open-source software platform for cloud computing, mostly deployed as infrastructure-as-a-service (IaaS), whereby virtual servers and other resources are made available to customers">OpenStack</abbr> can automatically install a
public <abbr title="Secure Shell (SSH), sometimes known as Secure Socket Shell, is a Unix-based command interface and protocol for securely getting access to a remote computer. It is widely used by network administrators to control Web and other kinds of servers remotely. SSH is actually a suite of three utilities (slogin, ssh, and scp) that are secure versions of the earlier UNIX utilities, rlogin, rsh, and rcp. SSH commands are encrypted and secure in several ways. Both ends of the client/server connection are authenticated using a digital certificate, and passwords are protected by encryption. Popular implementations include OpenSSH on Linux/Mac and Putty on Windows.">SSH</abbr> key on it, so as to give anyone with the corresponding
private key admin access. For this "key pair injection<sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup>" to work, the
image that the instance is based on must contain the <strong>cloud-init</strong>
package, or have in place another mechanism in place that will interact
with the <abbr title="OpenStack (https://www.openstack.org) is a free and open-source software platform for cloud computing, mostly deployed as infrastructure-as-a-service (IaaS), whereby virtual servers and other resources are made available to customers">OpenStack</abbr> metadata server to install the appropriate key. For
general instructions on <abbr title="Secure Shell (SSH), sometimes known as Secure Socket Shell, is a Unix-based command interface and protocol for securely getting access to a remote computer. It is widely used by network administrators to control Web and other kinds of servers remotely. SSH is actually a suite of three utilities (slogin, ssh, and scp) that are secure versions of the earlier UNIX utilities, rlogin, rsh, and rcp. SSH commands are encrypted and secure in several ways. Both ends of the client/server connection are authenticated using a digital certificate, and passwords are protected by encryption. Popular implementations include OpenSSH on Linux/Mac and Putty on Windows.">SSH</abbr> keys, we refer to section <strong>Getting an <abbr title="High Performance Computing, high performance computing and multiple-task computing on a supercomputer.">HPC</abbr> Account</strong>
of our <a href="https://hpcugent.github.io/vsc_user_docs/HPC/Gent/">introduction to <abbr title="High Performance Computing, high performance computing and multiple-task computing on a supercomputer.">HPC</abbr></a>.</p>
<p>If you have generated a key pair with an external tool, you can import
it into <abbr title="OpenStack (https://www.openstack.org) is a free and open-source software platform for cloud computing, mostly deployed as infrastructure-as-a-service (IaaS), whereby virtual servers and other resources are made available to customers">OpenStack</abbr>. The key pair can be used for multiple instances that
belong to a project. For more information, see section
[import a key pair]](#import-a-key-pair).</p>
<p>The public keys from your VSC account are automatically available in
your VSC Cloud projects, so you can immediately inject one of your
existing into your instances. Of course, you can also import new keys
into <abbr title="OpenStack (https://www.openstack.org) is a free and open-source software platform for cloud computing, mostly deployed as infrastructure-as-a-service (IaaS), whereby virtual servers and other resources are made available to customers">OpenStack</abbr>, which are not coupled to your VSC account. If you want
to give other parties <abbr title="Secure Shell (SSH), sometimes known as Secure Socket Shell, is a Unix-based command interface and protocol for securely getting access to a remote computer. It is widely used by network administrators to control Web and other kinds of servers remotely. SSH is actually a suite of three utilities (slogin, ssh, and scp) that are secure versions of the earlier UNIX utilities, rlogin, rsh, and rcp. SSH commands are encrypted and secure in several ways. Both ends of the client/server connection are authenticated using a digital certificate, and passwords are protected by encryption. Popular implementations include OpenSSH on Linux/Mac and Putty on Windows.">SSH</abbr> access to VM's, you must manage the keys using
some other method. upload <abbr title="Secure Shell (SSH), sometimes known as Secure Socket Shell, is a Unix-based command interface and protocol for securely getting access to a remote computer. It is widely used by network administrators to control Web and other kinds of servers remotely. SSH is actually a suite of three utilities (slogin, ssh, and scp) that are secure versions of the earlier UNIX utilities, rlogin, rsh, and rcp. SSH commands are encrypted and secure in several ways. Both ends of the client/server connection are authenticated using a digital certificate, and passwords are protected by encryption. Popular implementations include OpenSSH on Linux/Mac and Putty on Windows.">SSH</abbr> keys for other users to your VSC account.</p>
<p>Every <abbr title="OpenStack (https://www.openstack.org) is a free and open-source software platform for cloud computing, mostly deployed as infrastructure-as-a-service (IaaS), whereby virtual servers and other resources are made available to customers">OpenStack</abbr> user account has its own collection of <abbr title="Secure Shell (SSH), sometimes known as Secure Socket Shell, is a Unix-based command interface and protocol for securely getting access to a remote computer. It is widely used by network administrators to control Web and other kinds of servers remotely. SSH is actually a suite of three utilities (slogin, ssh, and scp) that are secure versions of the earlier UNIX utilities, rlogin, rsh, and rcp. SSH commands are encrypted and secure in several ways. Both ends of the client/server connection are authenticated using a digital certificate, and passwords are protected by encryption. Popular implementations include OpenSSH on Linux/Mac and Putty on Windows.">SSH</abbr> keys for
every project. To <abbr title="A share is a remote, mountable file system. Users can mount and access a share on several hosts at a time.">share</abbr> a public key between multiple users of the same
project, each user needs to import it in the <abbr title="OpenStack (https://www.openstack.org) is a free and open-source software platform for cloud computing, mostly deployed as infrastructure-as-a-service (IaaS), whereby virtual servers and other resources are made available to customers">OpenStack</abbr> project.</p>
<h3 id="add-a-key-pair">Add a key pair<a class="headerlink" href="#add-a-key-pair" title="Permanent link">#</a></h3>
<ol>
<li>
<p>Open the Compute tab.</p>
</li>
<li>
<p>Click the Key Pairs tab, which shows the key pairs that are
    available for this project.</p>
</li>
<li>
<p>Click Create Key Pair.</p>
</li>
<li>
<p>In the Create Key Pair dialog box, enter a name for your key pair,
    and click Create Key Pair.</p>
</li>
<li>
<p>Respond to the prompt to download the key pair.</p>
</li>
<li>
<p>Save the <strong>*.pem</strong> file locally.</p>
</li>
<li>
<p>To change its permissions so that only you can read and write to the
    file, run the following command:
<div class="highlight"><pre><span></span><code>chmod <span class="m">0600</span> yourPrivateKey.pem
</code></pre></div></p>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you are using the <abbr title="OpenStack Dashboard (Horizon) provides administrators and users with a graphical interface to access, provision, and automate deployment of cloud-based resources. The design accommodates third party products and services, such as billing, monitoring, and additional management tools. The dashboard is also brand-able for service providers and other commercial vendors who want to make use of it. The dashboard is one of several ways users can interact with OpenStack resources. Developers can automate access or build tools to manage resources using the native OpenStack API or the EC2 compatibility API.">OpenStack Dashboard</abbr> from a Windows computer, use PuTTYgen
to load the <strong>*.pem</strong> file and convert and save it as <strong>*.ppk</strong>.
For more information see the
<a href="https://winscp.net/eng/docs/ui_puttygen"><em>WinSCP web page for PuTTYgen</em></a>,
and chapter 2 of the <a href="https://hpcugent.github.io/vsc_user_docs">introduction to <abbr title="High Performance Computing, high performance computing and multiple-task computing on a supercomputer.">HPC</abbr> at VSC</a>.</p>
</div>
<ul>
<li>To make the key pair known to <abbr title="Secure Shell (SSH), sometimes known as Secure Socket Shell, is a Unix-based command interface and protocol for securely getting access to a remote computer. It is widely used by network administrators to control Web and other kinds of servers remotely. SSH is actually a suite of three utilities (slogin, ssh, and scp) that are secure versions of the earlier UNIX utilities, rlogin, rsh, and rcp. SSH commands are encrypted and secure in several ways. Both ends of the client/server connection are authenticated using a digital certificate, and passwords are protected by encryption. Popular implementations include OpenSSH on Linux/Mac and Putty on Windows.">SSH</abbr>, run the <strong>ssh-add</strong> command.</li>
</ul>
<div class="highlight"><pre><span></span><code>ssh-add yourPrivateKey.pem
</code></pre></div>
<h3 id="import-a-key-pair">Import a key pair<a class="headerlink" href="#import-a-key-pair" title="Permanent link">#</a></h3>
<ol>
<li>
<p>Open the Compute tab.</p>
</li>
<li>
<p>Click the Key Pairs tab, which shows the key pairs that are
    available for this project.</p>
</li>
<li>
<p>Click Import Key Pair.</p>
</li>
<li>
<p>In the Import Key Pair dialog box, enter the name of your key pair,
    copy the public key into the Public Key box, and then click Import
    Key Pair.</p>
</li>
</ol>
<p>The Compute database registers the public key of the key pair.</p>
<p>The <abbr title="OpenStack Dashboard (Horizon) provides administrators and users with a graphical interface to access, provision, and automate deployment of cloud-based resources. The design accommodates third party products and services, such as billing, monitoring, and additional management tools. The dashboard is also brand-able for service providers and other commercial vendors who want to make use of it. The dashboard is one of several ways users can interact with OpenStack resources. Developers can automate access or build tools to manage resources using the native OpenStack API or the EC2 compatibility API.">OpenStack Dashboard</abbr> lists the key pair on the Key Pairs tab.</p>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>The <abbr title="OpenStack (https://www.openstack.org) is a free and open-source software platform for cloud computing, mostly deployed as infrastructure-as-a-service (IaaS), whereby virtual servers and other resources are made available to customers">OpenStack</abbr> documentation and interfaces consistently refer to
"<abbr title="Secure Shell (SSH), sometimes known as Secure Socket Shell, is a Unix-based command interface and protocol for securely getting access to a remote computer. It is widely used by network administrators to control Web and other kinds of servers remotely. SSH is actually a suite of three utilities (slogin, ssh, and scp) that are secure versions of the earlier UNIX utilities, rlogin, rsh, and rcp. SSH commands are encrypted and secure in several ways. Both ends of the client/server connection are authenticated using a digital certificate, and passwords are protected by encryption. Popular implementations include OpenSSH on Linux/Mac and Putty on Windows.">SSH</abbr> pairs", but of course only the public key of each pair is
stored in the <abbr title="OpenStack (https://www.openstack.org) is a free and open-source software platform for cloud computing, mostly deployed as infrastructure-as-a-service (IaaS), whereby virtual servers and other resources are made available to customers">OpenStack</abbr> environment, while the private key should be
kept secure by the owner.&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div>

              
            </article>
            
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../flavors/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Instance types and flavors" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Instance types and flavors
            </div>
          </div>
        </a>
      
      
        
        <a href="../launch_instance/" class="md-footer__link md-footer__link--next" aria-label="Next: Launch and manage instances" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Launch and manage instances
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.top", "navigation.expand", "navigation.tracking", "toc.follow", "navigation.sections", "navigation.instant", "search.suggest", "search.highlight"], "search": "../assets/javascripts/workers/search.b97dbffb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.6c7ad80a.min.js"></script>
      
    
  </body>
</html>