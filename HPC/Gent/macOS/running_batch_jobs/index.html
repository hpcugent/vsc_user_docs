
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://docs.hpc.ugent.be/macOS/running_batch_jobs/">
      
      
        <link rel="prev" href="../connecting/">
      
      
        <link rel="next" href="../running_interactive_jobs/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.1.6">
    
    
      
        <title>Running batch jobs - VSC User Documentation - Gent (macOS)</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.ded33207.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#running-batch-jobs" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="VSC User Documentation - Gent (macOS)" class="md-header__button md-logo" aria-label="VSC User Documentation - Gent (macOS)" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            VSC User Documentation - Gent (macOS)
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Running batch jobs
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <!-- Original file https://github.com/squidfunk/mkdocs-material/blob/master/material/partials/source.html -->
<!-- More information see https://squidfunk.github.io/mkdocs-material/customization/ -->
<!-- This is code FOR OS PICKER NOT FOR INTENTED PURPOSE AS REPO LINK -->
<div class="md-source">
  <label for="picker">Your OS:</label>
  <select name="picker" id="picker" style="border: none; background-color: var(--md-primary-fg-color); color: inherit">
    <option value="" disabled selected>Choose OS</option>
    <option value="Linux">Linux</option>
    <option value="Windows">Windows</option>
    <option value="macOS">macOS</option>
  </select>
</div>

<script>
  {
    const elements = document.querySelectorAll("#picker");
    const store_OS = localStorage.getItem("select_OS");
    // Get url before OS part.
    const osmatch = window.location.href.match(/^(.*?)\/(Linux|macOS|Windows)\//i);

    elements.forEach(e => {
      e.addEventListener("change", (event) => {
        if (event.target.value){
          // Save new OS pick.
          localStorage.setItem("select_OS", JSON.stringify([osmatch[1], event.target.value]));
          // Redirect to new OS page.
          window.location.href = window.location.href.replace(/Linux|MacOS|Windows/i,event.target.value);
        }
      });
      if (store_OS) {
        // There is a stored OS, so set select to this option.
        e.value = JSON.parse(store_OS)[1];
      }
    })
  }
</script>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="VSC User Documentation - Gent (macOS)" class="md-nav__button md-logo" aria-label="VSC User Documentation - Gent (macOS)" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    VSC User Documentation - Gent (macOS)
  </label>
  
    <div class="md-nav__source">
      <!-- Original file https://github.com/squidfunk/mkdocs-material/blob/master/material/partials/source.html -->
<!-- More information see https://squidfunk.github.io/mkdocs-material/customization/ -->
<!-- This is code FOR OS PICKER NOT FOR INTENTED PURPOSE AS REPO LINK -->
<div class="md-source">
  <label for="picker">Your OS:</label>
  <select name="picker" id="picker" style="border: none; background-color: var(--md-primary-fg-color); color: inherit">
    <option value="" disabled selected>Choose OS</option>
    <option value="Linux">Linux</option>
    <option value="Windows">Windows</option>
    <option value="macOS">macOS</option>
  </select>
</div>

<script>
  {
    const elements = document.querySelectorAll("#picker");
    const store_OS = localStorage.getItem("select_OS");
    // Get url before OS part.
    const osmatch = window.location.href.match(/^(.*?)\/(Linux|macOS|Windows)\//i);

    elements.forEach(e => {
      e.addEventListener("change", (event) => {
        if (event.target.value){
          // Save new OS pick.
          localStorage.setItem("select_OS", JSON.stringify([osmatch[1], event.target.value]));
          // Redirect to new OS page.
          window.location.href = window.location.href.replace(/Linux|MacOS|Windows/i,event.target.value);
        }
      });
      if (store_OS) {
        // There is a stored OS, so set select to this option.
        e.value = JSON.parse(store_OS)[1];
      }
    })
  }
</script>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Welcome
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../introduction/" class="md-nav__link">
        Introduction to HPC
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../getting_started/" class="md-nav__link">
        Getting Started
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../account/" class="md-nav__link">
        Getting an HPC Account
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../connecting/" class="md-nav__link">
        Connecting to the HPC infrastructure
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Running batch jobs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Running batch jobs
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#modules" class="md-nav__link">
    Modules
  </a>
  
    <nav class="md-nav" aria-label="Modules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#environment-variables" class="md-nav__link">
    Environment Variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-module-command" class="md-nav__link">
    The module command
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#available-modules" class="md-nav__link">
    Available modules
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#organisation-of-modules-in-toolchains" class="md-nav__link">
    Organisation of modules in toolchains
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loading-and-unloading-modules" class="md-nav__link">
    Loading and unloading modules
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#purging-all-modules" class="md-nav__link">
    Purging all modules
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-explicit-version-numbers" class="md-nav__link">
    Using explicit version numbers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#search-for-modules" class="md-nav__link">
    Search for modules
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-detailed-info" class="md-nav__link">
    Get detailed info
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#save-and-load-collections-of-modules" class="md-nav__link">
    Save and load collections of modules
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getting-module-details" class="md-nav__link">
    Getting module details
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-system-information-about-the-hpc-infrastructure" class="md-nav__link">
    Getting system information about the HPC infrastructure
  </a>
  
    <nav class="md-nav" aria-label="Getting system information about the HPC infrastructure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#checking-the-general-status-of-the-hpc-infrastructure" class="md-nav__link">
    Checking the general status of the HPC infrastructure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getting-cluster-state" class="md-nav__link">
    Getting cluster state
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#defining-and-submitting-your-job" class="md-nav__link">
    Defining and submitting your job
  </a>
  
    <nav class="md-nav" aria-label="Defining and submitting your job">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#when-will-my-job-start" class="md-nav__link">
    When will my job start?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#specifying-the-cluster-on-which-to-run" class="md-nav__link">
    Specifying the cluster on which to run
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#submitting-jobs-from-one-cluster-to-another" class="md-nav__link">
    Submitting jobs from one cluster to another
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#monitoring-and-managing-your-jobs" class="md-nav__link">
    Monitoring and managing your job(s)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examining-the-queue" class="md-nav__link">
    Examining the queue
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#specifying-job-requirements" class="md-nav__link">
    Specifying job requirements
  </a>
  
    <nav class="md-nav" aria-label="Specifying job requirements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generic-resource-requirements" class="md-nav__link">
    Generic resource requirements
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#job-output-and-error-files" class="md-nav__link">
    Job output and error files
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#e-mail-notifications" class="md-nav__link">
    E-mail notifications
  </a>
  
    <nav class="md-nav" aria-label="E-mail notifications">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generate-your-own-e-mail-notifications" class="md-nav__link">
    Generate your own e-mail notifications
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-a-job-after-another-job" class="md-nav__link">
    Running a job after another job
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../running_interactive_jobs/" class="md-nav__link">
        Running interactive jobs
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../running_jobs_with_input_output_data/" class="md-nav__link">
        Running jobs with input/output data
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../available_software/" class="md-nav__link">
        Available software
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../multi_core_jobs/" class="md-nav__link">
        Multi core jobs/Parallel Computing
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../web_portal/" class="md-nav__link">
        Using the HPC-UGent web portal
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../interactive_debug/" class="md-nav__link">
        Interactive and debug cluster
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../xdmod/" class="md-nav__link">
        XDMoD portal
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../troubleshooting/" class="md-nav__link">
        Troubleshooting
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../sites/hpc_policies/" class="md-nav__link">
        HPC Policies
      </a>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_16" >
      
      
      
        <label class="md-nav__link" for="__nav_16" id="__nav_16_label" tabindex="0">
          Advanced topics
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_16_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_16">
          <span class="md-nav__icon md-icon"></span>
          Advanced topics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../torque_frontend_via_jobcli/" class="md-nav__link">
        Torque frontend via jobcli
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../fine_tuning_job_specifications/" class="md-nav__link">
        Fine-tuning Job Specifications
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../multi_job_submission/" class="md-nav__link">
        Multi-job submission
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../compiling_your_software/" class="md-nav__link">
        Compiling and testing your software on the HPC
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../program_examples/" class="md-nav__link">
        Program examples
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../jobscript_examples/" class="md-nav__link">
        Job script examples
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../best_practices/" class="md-nav__link">
        Best Practices
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../VNC/" class="md-nav__link">
        Graphical applications with VNC
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../x2go/" class="md-nav__link">
        Graphical applications with X2Go
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gpu/" class="md-nav__link">
        GPU clusters
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../crontab/" class="md-nav__link">
        Cron scripts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../teaching_training/" class="md-nav__link">
        Teaching and training
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_17" >
      
      
      
        <label class="md-nav__link" for="__nav_17" id="__nav_17_label" tabindex="0">
          Linux tutorial
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_17_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_17">
          <span class="md-nav__icon md-icon"></span>
          Linux tutorial
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../linux-tutorial/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../linux-tutorial/getting_started/" class="md-nav__link">
        Getting Started
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../linux-tutorial/navigating/" class="md-nav__link">
        Navigating
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../linux-tutorial/manipulating_files_and_directories/" class="md-nav__link">
        Manipulating files and directories
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../linux-tutorial/uploading_files/" class="md-nav__link">
        Uploading files
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../linux-tutorial/beyond_the_basics/" class="md-nav__link">
        Beyond the basics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../linux-tutorial/common_pitfalls/" class="md-nav__link">
        Common pitfalls
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../linux-tutorial/hpc_infrastructure/" class="md-nav__link">
        More on the HPC infrastructure
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_18" >
      
      
      
        <label class="md-nav__link" for="__nav_18" id="__nav_18_label" tabindex="0">
          Software-specific Best Practices
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_18_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_18">
          <span class="md-nav__icon md-icon"></span>
          Software-specific Best Practices
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../alphafold/" class="md-nav__link">
        AlphaFold
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../apptainer/" class="md-nav__link">
        Apptainer/Singularity
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../easybuild/" class="md-nav__link">
        EasyBuild
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../jupyter/" class="md-nav__link">
        Jupyter notebook
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../MATLAB/" class="md-nav__link">
        MATLAB
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../mympirun/" class="md-nav__link">
        mympirun
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../openFOAM/" class="md-nav__link">
        OpenFOAM
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../python/" class="md-nav__link">
        Python
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../setting_up_python_virtual_environments/" class="md-nav__link">
        Python virtual environments
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../r-packages/" class="md-nav__link">
        R packages
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../transcribe/" class="md-nav__link">
        Transcribe
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../vscodetunnel/" class="md-nav__link">
        VS Code Tunnel
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_19" >
      
      
      
        <label class="md-nav__link" for="__nav_19" id="__nav_19_label" tabindex="0">
          FAQ
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_19_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_19">
          <span class="md-nav__icon md-icon"></span>
          FAQ
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../FAQ/" class="md-nav__link">
        Frequently Asked Questions
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_20" >
      
      
      
        <label class="md-nav__link" for="__nav_20" id="__nav_20_label" tabindex="0">
          Appendices
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_20_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_20">
          <span class="md-nav__icon md-icon"></span>
          Appendices
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../quick_reference_guide/" class="md-nav__link">
        Appendix A - HPC Quick Reference Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../torque_options/" class="md-nav__link">
        Appendix B - TORQUE options
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../useful_linux_commands/" class="md-nav__link">
        Appendix C - Useful Linux Commands
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#modules" class="md-nav__link">
    Modules
  </a>
  
    <nav class="md-nav" aria-label="Modules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#environment-variables" class="md-nav__link">
    Environment Variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-module-command" class="md-nav__link">
    The module command
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#available-modules" class="md-nav__link">
    Available modules
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#organisation-of-modules-in-toolchains" class="md-nav__link">
    Organisation of modules in toolchains
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loading-and-unloading-modules" class="md-nav__link">
    Loading and unloading modules
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#purging-all-modules" class="md-nav__link">
    Purging all modules
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-explicit-version-numbers" class="md-nav__link">
    Using explicit version numbers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#search-for-modules" class="md-nav__link">
    Search for modules
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-detailed-info" class="md-nav__link">
    Get detailed info
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#save-and-load-collections-of-modules" class="md-nav__link">
    Save and load collections of modules
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getting-module-details" class="md-nav__link">
    Getting module details
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-system-information-about-the-hpc-infrastructure" class="md-nav__link">
    Getting system information about the HPC infrastructure
  </a>
  
    <nav class="md-nav" aria-label="Getting system information about the HPC infrastructure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#checking-the-general-status-of-the-hpc-infrastructure" class="md-nav__link">
    Checking the general status of the HPC infrastructure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getting-cluster-state" class="md-nav__link">
    Getting cluster state
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#defining-and-submitting-your-job" class="md-nav__link">
    Defining and submitting your job
  </a>
  
    <nav class="md-nav" aria-label="Defining and submitting your job">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#when-will-my-job-start" class="md-nav__link">
    When will my job start?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#specifying-the-cluster-on-which-to-run" class="md-nav__link">
    Specifying the cluster on which to run
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#submitting-jobs-from-one-cluster-to-another" class="md-nav__link">
    Submitting jobs from one cluster to another
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#monitoring-and-managing-your-jobs" class="md-nav__link">
    Monitoring and managing your job(s)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examining-the-queue" class="md-nav__link">
    Examining the queue
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#specifying-job-requirements" class="md-nav__link">
    Specifying job requirements
  </a>
  
    <nav class="md-nav" aria-label="Specifying job requirements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generic-resource-requirements" class="md-nav__link">
    Generic resource requirements
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#job-output-and-error-files" class="md-nav__link">
    Job output and error files
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#e-mail-notifications" class="md-nav__link">
    E-mail notifications
  </a>
  
    <nav class="md-nav" aria-label="E-mail notifications">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generate-your-own-e-mail-notifications" class="md-nav__link">
    Generate your own e-mail notifications
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-a-job-after-another-job" class="md-nav__link">
    Running a job after another job
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                

                  

  
  


<h1 id="running-batch-jobs">Running batch jobs<a class="headerlink" href="#running-batch-jobs" title="Permanent link">#</a></h1>
<p>In order to have access to the compute nodes of a cluster, you have to
use the job system. The system software that handles your batch jobs
consists of two pieces: the queue- and resource manager <strong>TORQUE</strong> and the
scheduler <strong>Moab</strong>. Together, TORQUE and Moab provide a suite of commands for
submitting jobs, altering some of the properties of waiting jobs (such
as reordering or deleting them), monitoring their progress and killing
ones that are having problems or are no longer needed. Only the most
commonly used commands are mentioned here.</p>
<p><img alt="image" src="../img/ch4-pbs-overview.png" style="display: block; margin: 0 auto" /></p>
<p>When you connect to the HPC, you have access to (one of) the <strong>login nodes</strong> of the
cluster. There you can prepare the work you want to get done on the
cluster by, e.g., installing or compiling programs, setting up data
sets, etc. The computations however, should not be performed on this
login node. The actual work is done on the cluster's <strong>compute nodes</strong>. Each compute node contains a number of CPU <strong>cores</strong>. The compute nodes are managed by the job scheduling software (Moab) and a Resource Manager (TORQUE), which
decides when and on which compute nodes the jobs can run. It is usually
not necessary to log on to the compute nodes directly 
and is only allowed on the nodes where you have a job running 
. Users can (and should) monitor
their jobs periodically as they run, but do not have to remain connected
to the HPC the entire time.</p>
<p>The documentation in this "Running batch jobs" section includes a
description of the general features of job scripts, how to submit them
for execution and how to monitor their progress.</p>
<h2 id="modules">Modules<a class="headerlink" href="#modules" title="Permanent link">#</a></h2>
<p>Software installation and maintenance on a HPC cluster such as the VSC
clusters poses a number of challenges not encountered on a workstation
or a departmental cluster. We therefore need a system on the HPC, which is
able to easily activate or deactivate the software packages that you
require for your program execution.</p>
<h3 id="environment-variables">Environment Variables<a class="headerlink" href="#environment-variables" title="Permanent link">#</a></h3>
<p>The program environment on the HPC is controlled by pre-defined settings,
which are stored in environment (or shell) variables. For more
information about environment variables, see <a href="../../linux-tutorial/#variables">the chapter "Getting started", section "Variables" in the intro to Linux</a>.</p>
<p>All the software packages that are installed on the HPC cluster require
different settings. These packages include compilers, interpreters,
mathematical software such as MATLAB and SAS, as well as other
applications and libraries.</p>
<h3 id="the-module-command">The module command<a class="headerlink" href="#the-module-command" title="Permanent link">#</a></h3>
<p>In order to administer the active software and their environment
variables, the module system has been developed, which:</p>
<ol>
<li>
<p>Activates or deactivates <em>software packages</em> and their dependencies.</p>
</li>
<li>
<p>Allows setting and unsetting of <em>environment variables</em>, including
    adding and deleting entries from list-like environment variables.</p>
</li>
<li>
<p>Does this in a <em>shell-independent</em> fashion (necessary information is
    stored in the accompanying module file).</p>
</li>
<li>
<p>Takes care of <em>versioning aspects</em>: For many libraries, multiple
    versions are installed and maintained. The module system also takes
    care of the versioning of software packages. For instance, it does
    not allow multiple versions to be loaded at same time.</p>
</li>
<li>
<p>Takes care of <em>dependencies</em>: Another issue arises when one
    considers library versions and the dependencies they require. Some
    software requires an older version of a particular library to run
    correctly (or at all). Hence a variety of version numbers is
    available for important libraries. Modules typically load the
    required dependencies automatically.</p>
</li>
</ol>
<p>This is all managed with the <code>module</code> command, which is explained in the
next sections.</p>
<p>There is also a shorter <code>ml</code> command that does exactly the same as the
<code>module</code> command and is easier to type. Whenever you see a <code>module</code>
command, you can replace <code>module</code> with <code>ml</code>.</p>
<h3 id="available-modules">Available modules<a class="headerlink" href="#available-modules" title="Permanent link">#</a></h3>
<p>A large number of software packages are installed on the HPC clusters. A
list of all currently available software can be obtained by typing:</p>
<div class="highlight"><pre><span></span><code>module available
</code></pre></div>
<p>It's also possible to execute <code>module av</code> or <code>module avail</code>, these are
shorter to type and will do the same thing.</p>
<p>This will give some output such as:</p>
<div class="highlight"><pre><span></span><code>module avail
--- /apps/gent/RHEL8/zen2-ib/modules/all ---
   ABAQUS/2021-hotfix-2132
   ABAQUS/2022-hotfix-2214
   ABAQUS/2022
   ABAQUS/2023
   ABAQUS/2024-hotfix-2405                                                (D)
   ...
</code></pre></div>
<p>Or when you want to check whether some specific software, some compiler or some
application (e.g., MATLAB) is installed on the HPC.</p>
<div class="highlight"><pre><span></span><code>module avail matlab
--- /apps/gent/RHEL8/zen2-ib/modules/all ---
   LIBSVM-MATLAB/3.30-GCCcore-11.3.0-MATLAB-2022b-r5
   MATLAB/2019b
   MATLAB/2021b
   MATLAB/2022b-r5                                   (D)
   SPM/12.5_r7771-MATLAB-2021b
</code></pre></div>
<p>This gives a full list of software packages that can be loaded.</p>
<p><strong>The casing of module names is important</strong>: lowercase and uppercase letters matter in module names.</p>
<h3 id="organisation-of-modules-in-toolchains">Organisation of modules in toolchains<a class="headerlink" href="#organisation-of-modules-in-toolchains" title="Permanent link">#</a></h3>
<p>The amount of modules on the VSC systems can be overwhelming, and it is
not always immediately clear which modules can be loaded safely together
if you need to combine multiple programs in a single job to get your
work done.</p>
<p>Therefore the VSC has defined so-called <strong>toolchains</strong>. A toolchain contains a C/C++
and Fortran compiler, a MPI library and some basic math libraries for
(dense matrix) linear algebra and FFT. Two toolchains are defined on
most VSC systems. One, the <code>intel</code> toolchain, consists of the Intel
compilers, MPI library and math libraries. The other one, the <code>foss</code>
toolchain, consists of Open Source components: the GNU compilers,
OpenMPI, OpenBLAS and the standard LAPACK and ScaLAPACK libraries for
the linear algebra operations and the FFTW library for FFT. The
toolchains are refreshed twice a year, which is reflected in their name.</p>
<p>E.g., <code>foss/2025a</code> is the first version of the <code>foss</code> toolchain in 2025.</p>
<p>The toolchains are then used to compile a lot of the software installed
on the VSC clusters. You can recognise those packages easily as they all
contain the name of the toolchain after the version number in their name
(e.g., <code>Python/3.12.3-GCCcore-13.3.0</code>). Only packages compiled with the
same toolchain name and version can work together without conflicts.</p>
<h3 id="loading-and-unloading-modules">Loading and unloading modules<a class="headerlink" href="#loading-and-unloading-modules" title="Permanent link">#</a></h3>
<h4 id="module-load">module load<a class="headerlink" href="#module-load" title="Permanent link">#</a></h4>
<p>To "activate" a software package, you load the corresponding module file
using the <code>module load</code> command:</p>
<div class="highlight"><pre><span></span><code>module load example
</code></pre></div>
<p>This will load the most recent version of <em>example</em>.</p>
<p>For some packages, multiple versions are installed; the load command
will automatically choose the default version (if it was set by the
system administrators) or the most recent version otherwise (i.e., the
lexicographical last after the <code>/</code>).</p>
<p>**However, you should specify a particular version to avoid surprises when newer versions are installed:</p>
<div class="highlight"><pre><span></span><code>module load secondexample/4.5.6-intel-2023a
</code></pre></div>
<p>The <code>ml</code> command is a shorthand for <code>module load</code>: <code>ml example/1.2.3</code> is
equivalent to <code>module load example/1.2.3</code>.</p>
<p>Modules need not be loaded one by one; the two <code>module load</code> commands
can be combined as follows:</p>
<div class="highlight"><pre><span></span><code>module load example/1.2.3 secondexample/4.5.6-intel-2023a
</code></pre></div>
<p>This will load the two modules as well as their dependencies (unless
there are conflicts between both modules).</p>
<h4 id="module-list">module list<a class="headerlink" href="#module-list" title="Permanent link">#</a></h4>
<p>Obviously, you need to be able to keep track of the modules that are
currently loaded. Assuming you have run the <code>module load</code> commands
stated above, you will get the following:</p>
<div class="highlight"><pre><span></span><code>$ module list
Currently Loaded Modules:
  1) env/vsc/&lt;cluster&gt;              (S)   7) binutils/2.40-GCCcore-12.3.0            13) iimpi/2023a
  2) env/slurm/&lt;cluster&gt;            (S)   8) intel-compilers/2023.1.0                14) imkl-FFTW/2023.1.0-iimpi-2023a
  3) env/software/&lt;cluster&gt;         (S)   9) numactl/2.0.16-GCCcore-12.3.0           15) intel/2023a
  4) cluster/&lt;cluster&gt;              (S)  10) UCX/1.14.1-GCCcore-12.3.0               16) secondexample/4.5.6-intel-2023a
  5) GCCcore/12.3.0                      11) impi/2021.9.0-intel-compilers-2023.1.0  17) example/1.2.3
  6) zlib/1.2.13-GCCcore-12.3.0          12) imkl/2023.1.0

  Where:
   S:  Module is Sticky, requires --force to unload or purge
</code></pre></div>
<p>You can also just use the <code>ml</code> command without arguments to list loaded modules.</p>
<p>It is important to note at this point that other modules (e.g.,
<code>intel/2023a</code>) are also listed, although the user did not explicitly
load them. This is because <code>secondexample/4.5.6-intel-2023a</code> depends on it
(as indicated in its name), and the system administrator specified that
the <code>intel/2023a</code> module should be loaded whenever <em>this</em>
<code>secondexample</code> module is loaded. There are advantages and disadvantages
to this, so be aware of automatically loaded modules whenever things go wrong: they may have something to do with it!</p>
<h4 id="module-unload">module unload<a class="headerlink" href="#module-unload" title="Permanent link">#</a></h4>
<p>To unload a module, one can use the <code>module unload</code> command. It works
consistently with the <code>load</code> command, and reverses the latter's effect.
However, the dependencies of the package are NOT automatically unloaded;
you will have to unload the packages one by one. When the
<code>example</code> module is unloaded, only the following modules remain:</p>
<div class="highlight"><pre><span></span><code>$ module unload example
$ module list
Currently Loaded Modules:
  1) env/vsc/&lt;cluster&gt;              (S)   7) binutils/2.40-GCCcore-12.3.0            13) iimpi/2023a
  2) env/slurm/&lt;cluster&gt;            (S)   8) intel-compilers/2023.1.0                14) imkl-FFTW/2023.1.0-iimpi-2023a
  3) env/software/&lt;cluster&gt;         (S)   9) numactl/2.0.16-GCCcore-12.3.0           15) intel/2023a
  4) cluster/&lt;cluster&gt;              (S)  10) UCX/1.14.1-GCCcore-12.3.0               16) secondexample/4.5.6-intel-2023a
  5) GCCcore/12.3.0                      11) impi/2021.9.0-intel-compilers-2023.1.0
  6) zlib/1.2.13-GCCcore-12.3.0          12) imkl/2023.1.0

  Where:
   S:  Module is Sticky, requires --force to unload or purge
</code></pre></div>
<p>To unload the <code>example</code> module, you can also use
<code>ml -example</code>.</p>
<p>Notice that the version was not specified: there can only be one version
of a module loaded at a time, so unloading modules by name is not
ambiguous. However, checking the list of currently loaded modules is
always a good idea, since unloading a module that is currently not
loaded will <em>not</em> result in an error.</p>
<h3 id="purging-all-modules">Purging all modules<a class="headerlink" href="#purging-all-modules" title="Permanent link">#</a></h3>
<p>In order to unload all modules at once, and hence be sure to start in a
clean state, you can use:</p>
<p><div class="highlight"><pre><span></span><code>module purge
</code></pre></div>
This is always safe: the <code>cluster</code> module (the module that specifies
which cluster jobs will get submitted to) will not be unloaded (because
it's a so-called "sticky" module). </p>
<h3 id="using-explicit-version-numbers">Using explicit version numbers<a class="headerlink" href="#using-explicit-version-numbers" title="Permanent link">#</a></h3>
<p>Once a module has been installed on the cluster, the executables or
libraries it comprises are never modified. This policy ensures that the
user's programs will run consistently, at least if the user specifies a
specific version. <strong>Failing to specify a version may result in unexpected behaviour.</strong></p>
<p>Consider the following example: the user decides to use the <code>example</code>
module and at that point in time, just a single version 1.2.3 is
installed on the cluster. The user loads the module using:</p>
<div class="highlight"><pre><span></span><code>module load example
</code></pre></div>
<p>rather than</p>
<div class="highlight"><pre><span></span><code>module load example/1.2.3
</code></pre></div>
<p>Everything works fine, up to the point where a new version of <code>example</code>
is installed, 4.5.6. From then on, the user's <code>load</code> command will load
the latter version, rather than the intended one, which may lead to
unexpected problems. See for example <a href="../troubleshooting/#module-conflicts">the following section on Module Conflicts</a>.</p>
<p>Consider the following <code>example</code> modules:</p>
<div class="highlight"><pre><span></span><code>$ module avail example/
example/1.2.3 
example/4.5.6
</code></pre></div>
<p>Let's now generate a version conflict with the <code>example</code> module, and see
what happens.</p>
<div class="highlight"><pre><span></span><code>$ module load example/1.2.3  example/4.5.6
Lmod has detected the following error: A different version of the &#39;example&#39; module is already loaded (see output of &#39;ml&#39;).
$ module swap example/4.5.6
</code></pre></div>
<p>Note: A <code>module swap</code> command combines the appropriate <code>module unload</code>
and <code>module load</code> commands.</p>
<h3 id="search-for-modules">Search for modules<a class="headerlink" href="#search-for-modules" title="Permanent link">#</a></h3>
<p>With the <code>module spider</code> command, you can search for modules:</p>
<div class="highlight"><pre><span></span><code>$ module spider example
--------------------------------------------------------------------------------
  example:
--------------------------------------------------------------------------------
    Description: 
        This is just an example

    Versions: 
        example/1.2.3 
        example/4.5.6
--------------------------------------------------------------------------------
  For detailed information about a specific &quot;example&quot; module (including how to load the modules) use the module&#39;s full name. 
  For example:

    module spider example/1.2.3
--------------------------------------------------------------------------------
</code></pre></div>
<p>It's also possible to get detailed information about a specific module:</p>
<div class="highlight"><pre><span></span><code>$ module spider example/1.2.3
------------------------------------------------------------------------------------------
  example: example/1.2.3
------------------------------------------------------------------------------------------
  Description: 
    This is just an example 

    You will need to load all module(s) on any one of the lines below before the &quot;example/1.2.3&quot; module is available to load.

        cluster/accelgor
        cluster/doduo 
        cluster/donphan
        cluster/gallade
        cluster/joltik 
        cluster/skitty
Help:

        Description 
        =========== 
        This is just an example

        More information 
        ================ 
         - Homepage: https://example.com
</code></pre></div>
<h3 id="get-detailed-info">Get detailed info<a class="headerlink" href="#get-detailed-info" title="Permanent link">#</a></h3>
<p>To get a list of all possible commands, type:</p>
<div class="highlight"><pre><span></span><code>module help
</code></pre></div>
<p>Or to get more information about one specific module package:</p>
<div class="highlight"><pre><span></span><code>$ module help example/1.2.3
----------- Module Specific Help for &#39;example/1.2.3&#39; --------------------------- 
  This is just an example - Homepage: https://example.com/
</code></pre></div>
<h3 id="save-and-load-collections-of-modules">Save and load collections of modules<a class="headerlink" href="#save-and-load-collections-of-modules" title="Permanent link">#</a></h3>
<p>If you have a set of modules that you need to load often, you can save
these in a <em>collection</em>. This will enable you to load all the modules
you need with a single command.</p>
<p>In each <code>module</code> command shown below, you can replace <code>module</code> with
<code>ml</code>.</p>
<p>First, load all modules you want to include in the collections:</p>
<div class="highlight"><pre><span></span><code>module load example/1.2.3 secondexample/4.5.6-intel-2023a
</code></pre></div>
<p>Now store it in a collection using <code>module save</code>. In this example, the
collection is named <code>my-collection</code>.</p>
<div class="highlight"><pre><span></span><code>module save my-collection
</code></pre></div>
<p>Later, for example in a jobscript or a new session, you can load all
these modules with <code>module restore</code>:</p>
<div class="highlight"><pre><span></span><code>module restore my-collection
</code></pre></div>
<p>You can get a list of all your saved collections with the
<code>module savelist</code> command:</p>
<div class="highlight"><pre><span></span><code>$ module savelist
Named collection list (For LMOD_SYSTEM_NAME = &quot;&lt;OS&gt;-&lt;CPU-ARCHITECTURE&gt;&quot;):
  1) my-collection
</code></pre></div>
<p>To get a list of all modules a collection will load, you can use the
<code>module describe</code> command:</p>
<div class="highlight"><pre><span></span><code>$ module describe my-collection
Currently Loaded Modules:
  1) env/vsc/&lt;cluster&gt;              (S)   7) binutils/2.40-GCCcore-12.3.0            13) iimpi/2023a
  2) env/slurm/&lt;cluster&gt;            (S)   8) intel-compilers/2023.1.0                14) imkl-FFTW/2023.1.0-iimpi-2023a
  3) env/software/&lt;cluster&gt;         (S)   9) numactl/2.0.16-GCCcore-12.3.0           15) intel/2023a
  4) cluster/&lt;cluster&gt;              (S)  10) UCX/1.14.1-GCCcore-12.3.0               16) secondexample/4.5.6-intel-2023a
  5) GCCcore/12.3.0                      11) impi/2021.9.0-intel-compilers-2023.1.0  17) example/1.2.3
  6) zlib/1.2.13-GCCcore-12.3.0          12) imkl/2023.1.0
</code></pre></div>
<p>To remove a collection, remove the corresponding file in
<code>$HOME/.lmod.d/</code>:</p>
<div class="highlight"><pre><span></span><code>rm $HOME/.lmod.d/my-collection
</code></pre></div>
<h3 id="getting-module-details">Getting module details<a class="headerlink" href="#getting-module-details" title="Permanent link">#</a></h3>
<p>To see how a module would change the environment, you can use the
<code>module show</code> command:</p>
<div class="highlight"><pre><span></span><code>$ module show Python-bundle-PyPI/2024.06-GCCcore-13.3.0
help([[
Description
===========
Bundle of Python packages from PyPI
...
Included extensions
===================
alabaster-0.7.16, appdirs-1.4.4, asn1crypto-1.5.1, atomicwrites-1.4.1,
...
wcwidth-0.2.13, webencodings-0.5.1, xlrd-2.0.1, zipfile36-0.1.3, zipp-3.19.2
]])
...
load(&quot;GCCcore/13.3.0&quot;)
load(&quot;Python/3.12.3-GCCcore-13.3.0&quot;)
load(&quot;cryptography/42.0.8-GCCcore-13.3.0&quot;)
load(&quot;virtualenv/20.26.2-GCCcore-13.3.0&quot;)
...
</code></pre></div>
<p>It's also possible to use the <code>ml show</code> command instead: they are equivalent.</p>
<p>Here you can see that the <code>Python-bundle-PyPI/2024.06-GCCcore-13.3.0</code> comes with a lot of extensions: <code>alabaster</code>, <code>appdirs</code>, ...
These are Python packages which can be used in your Python scripts.</p>
<p>You can also see the modules the <code>Python-bundle-PyPI/2024.06-GCCcore-13.3.0</code> module
loads: <code>GCCcore/13.3.0</code>, <code>Python/3.12.3-GCCcore-13.3.0</code>, ...</p>
<p>If you're not sure what all of this means: don't worry, you don't have to know; just load the module and try to use the software.</p>
<h2 id="getting-system-information-about-the-hpc-infrastructure">Getting system information about the HPC infrastructure<a class="headerlink" href="#getting-system-information-about-the-hpc-infrastructure" title="Permanent link">#</a></h2>
<h3 id="checking-the-general-status-of-the-hpc-infrastructure">Checking the general status of the HPC infrastructure<a class="headerlink" href="#checking-the-general-status-of-the-hpc-infrastructure" title="Permanent link">#</a></h3>
<p>To check the general system state, check
<a href="https://www.ugent.be/hpc/en/infrastructure/status">https://www.ugent.be/hpc/en/infrastructure/status</a>. This has
information about scheduled downtime, status of the system, ...</p>
<h3 id="getting-cluster-state">Getting cluster state<a class="headerlink" href="#getting-cluster-state" title="Permanent link">#</a></h3>
<p>You can check <a href="http://hpc.ugent.be/clusterstate">http://hpc.ugent.be/clusterstate</a> to see information
about the clusters: you can see the nodes that are down, free, partially
filled with jobs, completely filled with jobs, ....</p>
<p>You can also get this information in text form (per cluster separately)
with the <code>pbsmon</code> command:</p>
<div class="highlight"><pre><span></span><code>$ module swap cluster/donphan
$ pbsmon
 4001 4002 4003 4004 4005 4006 4007
    _    j    j    j    _    _    .

 4008 4009 4010 4011 4012 4013 4014
    _    _    .    _    _    _    _

 4015 4016
    _    _

   _ free                 : 11  |   X down                 : 0   |
   j partial              : 3   |   x down_on_error        : 0   |
   J full                 : 0   |   m maintenance          : 0   |
                                |   . offline              : 2   |
                                |   o other (R, *, ...)    : 0   |

Node type:
 ppn=36, mem=751GB
</code></pre></div>
<p><code>pbsmon</code> only outputs details of the cluster corresponding to the
currently loaded <code>cluster</code> module see <a href="./#specifying-the-cluster-on-which-to-run">the section on Specifying the cluster on which to run</a>.
It also shows details about the nodes in a cluster. In the example, all
nodes have 36 cores and 751 GB of memory.</p>
<h2 id="defining-and-submitting-your-job">Defining and submitting your job<a class="headerlink" href="#defining-and-submitting-your-job" title="Permanent link">#</a></h2>
<p>Usually, you will want to have your program running in batch mode, as
opposed to interactively as you may be accustomed to. The point is that
the program must be able to start and run without user intervention,
i.e., without you having to enter any information or to press any
buttons during program execution. All the necessary input or required
options have to be specified on the command line, or needs to be put in
input or configuration files.</p>
<p>As an example, we will run a Perl script, which you will find in the
examples subdirectory on the HPC. When you received an account to the HPC a subdirectory with examples was automatically generated for you.</p>
<p>Remember that you have copied the contents of the HPC examples directory
to your home directory, so that you have your <strong>own personal</strong> copy (editable and
over-writable) and that you can start using the examples. If you haven't
done so already, run these commands now:</p>
<div class="highlight"><pre><span></span><code>cd
cp -r /apps/gent/tutorials/Intro-HPC/examples ~/
</code></pre></div>
<p>First go to the directory with the first examples by entering the
command:
<div class="highlight"><pre><span></span><code>cd ~/examples/Running-batch-jobs
</code></pre></div></p>
<p>Each time you want to execute a program on the HPC you'll need 2 things:</p>
<p><strong>The executable</strong>  The program to execute from the end-user, together with its
    peripheral input files, databases and/or command options.</p>
<p><strong>A batch job script</strong> , which will define the computer resource requirements of the
    program, the required additional software packages and which will
    start the actual executable. The HPC needs to know:</p>
<pre><code>1.  the type of compute nodes;

2.  the number of CPUs;

3.  the amount of memory;

4.  the expected duration of the execution time (wall time: Time as
    measured by a clock on the wall);

5.  the name of the files which will contain the output (i.e.,
    stdout) and error (i.e., stderr) messages;

6.  what executable to start, and its arguments.
</code></pre>
<p>Later on, the HPC user shall have to define (or to adapt) his/her own job
scripts. For now, all required job scripts for the exercises are
provided for you in the examples subdirectories.</p>
<p>List and check the contents with:</p>
<div class="highlight"><pre><span></span><code>$ ls -l
total 512
-rw-r--r-- 1 vsc40000 193 Sep 11 10:34 fibo.pbs
-rw-r--r-- 1 vsc40000 609 Sep 11 10:25 fibo.pl
</code></pre></div>
<p>In this directory you find a Perl script (named "fibo.pl") and a job
script (named "fibo.pbs").</p>
<ol>
<li>
<p>The Perl script calculates the first 30 Fibonacci numbers.</p>
</li>
<li>
<p>The job script is actually a standard Unix/Linux shell script that
    contains a few extra comments at the beginning that specify
    directives to PBS. These comments all begin with <strong>#PBS</strong>.</p>
</li>
</ol>
<p>We will first execute the program locally (i.e., on your current
login-node), so that you can see what the program does.</p>
<p>On the command line, you would run this using:</p>
<div class="highlight"><pre><span></span><code>$ ./fibo.pl
[0] -&gt; 0
[1] -&gt; 1
[2] -&gt; 1
[3] -&gt; 2
[4] -&gt; 3
[5] -&gt; 5
[6] -&gt; 8
[7] -&gt; 13
[8] -&gt; 21
[9] -&gt; 34
[10] -&gt; 55
[11] -&gt; 89
[12] -&gt; 144
[13] -&gt; 233
[14] -&gt; 377
[15] -&gt; 610
[16] -&gt; 987
[17] -&gt; 1597
[18] -&gt; 2584
[19] -&gt; 4181
[20] -&gt; 6765
[21] -&gt; 10946
[22] -&gt; 17711
[23] -&gt; 28657
[24] -&gt; 46368
[25] -&gt; 75025
[26] -&gt; 121393
[27] -&gt; 196418
[28] -&gt; 317811
[29] -&gt; 514229
</code></pre></div>
<p>Remark: Recall that you have now executed the Perl script locally on one of
the login-nodes of the HPC cluster. Of course, this is not our final
intention; we want to run the script on any of the compute nodes. Also,
it is not considered as good practice, if you "abuse" the login-nodes
for testing your scripts and executables. It will be explained later on
how you can reserve your own compute-node (by opening an interactive
session) to test your software. But for the sake of acquiring a good
understanding of what is happening, you are pardoned for this example
since these jobs require very little computing power.</p>
<p>The job script contains a description of the job by specifying the
command that need to be executed on the compute node:</p>
<div class="highlight"><span class="filename">fibo.pbs</span><pre><span></span><code><span class="ch">#!/bin/bash -l</span>
<span class="nb">cd</span><span class="w"> </span><span class="nv">$PBS_O_WORKDIR</span>
./fibo.pl
</code></pre></div>
<p>So, jobs are submitted as scripts (bash, Perl, Python, etc.), which
specify the parameters related to the jobs such as expected runtime
(walltime), e-mail notification, etc. These parameters can also be
specified on the command line.</p>
<p>This job script can now be submitted to the cluster's job system
for execution, using the qsub (Queue SUBmit) command:</p>
<div class="highlight"><pre><span></span><code>$ qsub fibo.pbs
123456
</code></pre></div>
<p>The qsub command returns a job identifier on the HPC cluster. The
important part is the number (e.g., "123456 "); this is a unique identifier for
the job and can be used to monitor and manage your job.</p>
<p>Remark: the modules that were loaded when you submitted the job will <em>not</em> be
loaded when the job is started. You should always specify the
<code>module load</code> statements that are required for your job in the job
script itself.</p>
<p>To faciliate this, you can use a pre-defined module collection which you
can restore using <code>module restore</code>, see <a href="./#save-and-load-collections-of-modules">the section on Save and load collections of modules</a> for more information.</p>
<p>Your job is now waiting in the queue for a free workernode to start on.</p>
<p>Go and drink some coffee ... but not too long. If you get impatient you
can start reading the next section for more information on how to
monitor jobs in the queue.</p>
<p>After your job was started, and ended, check the contents of the
directory:</p>
<div class="highlight"><pre><span></span><code>$ ls -l
total 768
-rw-r--r-- 1 vsc40000 vsc40000   44 Feb 28 13:33 fibo.pbs
-rw------- 1 vsc40000 vsc40000    0 Feb 28 13:33 fibo.pbs.e123456
-rw------- 1 vsc40000 vsc40000 1010 Feb 28 13:33 fibo.pbs.o123456
-rwxrwxr-x 1 vsc40000 vsc40000  302 Feb 28 13:32 fibo.pl
</code></pre></div>
<p>Explore the contents of the 2 new files:</p>
<div class="highlight"><pre><span></span><code>$ more fibo.pbs.o123456
$ more fibo.pbs.e123456
</code></pre></div>
<p>These files are used to store the standard output and error that would
otherwise be shown in the terminal window. By default, they have the
same name as that of the PBS script, i.e., "fibo.pbs" as base name,
followed by the extension ".o" (output) and ".e" (error), respectively,
and the job number ('123456' for this example). The error file will be empty,
at least if all went well. If not, it may contain valuable information
to determine and remedy the problem that prevented a successful run. The
standard output file will contain the results of your calculation (here,
the output of the Perl script)</p>
<h3 id="when-will-my-job-start">When will my job start?<a class="headerlink" href="#when-will-my-job-start" title="Permanent link">#</a></h3>
<p>In practice it's impossible to predict when your job(s) will start,
since most currently running jobs will finish before their requested
walltime expires, and new jobs by may be submitted by other users that
are assigned a higher priority than your job(s).</p>
<p>The HPC-UGent infrastructure clusters use a fair-share scheduling policy (see <a href="../sites/hpc_policies">HPC Policies</a>). There is no
guarantee on when a job will start, since it depends on a number of
factors. One of these factors is the priority of the job, which is
determined by:</p>
<ul>
<li>
<p>Historical use: the aim is to balance usage over users, so
    infrequent (in terms of total compute time used) users get a higher
    priority</p>
</li>
<li>
<p>Requested resources (amount of cores, walltime, memory, ...).
    The more resources you request, the more likely it is the job(s) will
    have to wait for a while until those resources become available.</p>
</li>
<li>
<p>Time waiting in queue: queued jobs get a higher priority over time.</p>
</li>
<li>
<p>User limits: this avoids having a single user use the entire
    cluster. This means that each user can only use a part of the
    cluster.</p>
</li>
<li>
<p>Whether or not you are a member of a <em>Virtual Organisation</em> (VO).</p>
<p>Each VO gets assigned a <em>fair share target</em>, which has a big impact
on the job priority. This is done to let the job scheduler balance usage
across different research groups.</p>
<p>If you are not a member of a specific VO, you are sharing a fair share target
with all other users who are not in a specific VO (which implies being in the (hidden)
<em>default</em> VO).
This can have a (strong) negative impact on the priority of your jobs
compared to the jobs of users who are in a specific VO.</p>
<p>See <a href="../running_jobs_with_input_output_data/#virtual-organisations">Virtual Organisations</a>
for more information on how to join a VO, or request the creation of a new VO if there
is none yet for your research group.</p>
</li>
</ul>
<p>Some other factors are how busy the cluster is, how many workernodes are
active, the resources (e.g., number of cores, memory) provided by each
workernode, ...</p>
<p>It might be beneficial to request less resources (e.g., not requesting
all cores in a workernode), since the scheduler often finds a "gap" to
fit the job into more easily.</p>
<p>Sometimes it happens that couple of nodes are free and a job would not
start. Empty nodes are not necessary empty for your job(s). Just
imagine, that an <em>N</em>-node-job (with a higher priority than your waiting
job(s)) should run. It is quite unlikely that <em>N</em> nodes would be empty
at the same moment to accommodate this job, so while fewer than <em>N</em>
nodes are empty, you can see them as being empty. The moment the <em>N</em>th
node becomes empty the waiting <em>N</em>-node-job will consume these <em>N</em> free
nodes.</p>
<h3 id="specifying-the-cluster-on-which-to-run">Specifying the cluster on which to run<a class="headerlink" href="#specifying-the-cluster-on-which-to-run" title="Permanent link">#</a></h3>
<p>To use other clusters, you can swap the <code>cluster</code> module. This is a
special module that change what modules are available for you, and what
cluster your jobs will be queued in.</p>
<p>By default you are working on <code>doduo</code>. To switch to, e.g., <code>donphan</code> you need to redefine
the environment so you get access to all modules installed on the <code>donphan</code>
cluster, and to be able to submit jobs to the <code>donphan</code> scheduler so your jobs
will start on <code>donphan</code> instead of the default <code>doduo</code> cluster.</p>
<div class="highlight"><pre><span></span><code>module swap cluster/donphan
</code></pre></div>
<p>Note: the <code>donphan</code> modules may not work directly on the login nodes, because the
login nodes do not have the same architecture as the <code>donphan</code> cluster, they have
the same architecture as the <code>doduo</code> cluster however, so this is why by default
software works on the login nodes. See <a href="../troubleshooting/#running-software-that-is-incompatible-with-host">the section on Running software that is incompatible with host</a> for why this is and how to fix
this.</p>
<p>To list the available cluster modules, you can use the
<code>module avail cluster/</code> command:</p>
<div class="highlight"><pre><span></span><code>$ module avail cluster/
--------------------------------------- /etc/modulefiles/vsc ----------------------------------------
   cluster/accelgor (S)    cluster/doduo   (S,L)    cluster/gallade (S)    cluster/skitty  (S)
   cluster/default         cluster/donphan (S)      cluster/joltik  (S)

  Where:
   S:  Module is Sticky, requires --force to unload or purge
   L:  Module is loaded
   D:  Default Module

If you need software that is not listed, 
request it via https://www.ugent.be/hpc/en/support/software-installation-request
</code></pre></div>
<p>As indicated in the output above, each <code>cluster</code> module is a so-called
sticky module, i.e., it will not be unloaded when <code>module purge</code> (see <a href="./#purging-all-modules">the section on purging modules</a>)
is used.</p>
<p>The output of the various commands interacting with jobs (<code>qsub</code>,
<code>stat</code>, ...) all depend on which <code>cluster</code> module is loaded.</p>
<h3 id="submitting-jobs-from-one-cluster-to-another">Submitting jobs from one cluster to another<a class="headerlink" href="#submitting-jobs-from-one-cluster-to-another" title="Permanent link">#</a></h3>
<p>It is possible to submit jobs from a job to a cluster different than the one your job is running on.
This could come in handy if, for example, the tool used to submit jobs only works on a particular cluster 
(or only on the login nodes), but the jobs can be run on several clusters.
An example of this is the <code>wsub</code> command of <code>worker</code>, see also <a href="../troubleshooting/#multi-job-submissions-on-a-non-default-cluster">here</a>.</p>
<p>To submit jobs to the <code>donphan</code> cluster, you can change only what is needed in your session environment 
to submit jobs to that particular cluster by using <code>module swap env/slurm/donphan</code> instead of using 
<code>module swap cluster/donphan</code>.
The last command also activates the software modules that are installed specifically for donphan, 
which may not be compatible with the system you are working on.
By only swapping to <code>env/slurm/donphan</code>, jobs that are submitted will be sent to the <code>donphan</code> cluster. 
The same approach can be used to submit jobs to another cluster, of course.</p>
<p>Each <code>cluster</code> module not only loads the corresponding <code>env/slurm/...</code> module to control where jobs are sent to, 
but also two other <code>env/...</code> modules which control other parts of the environment.
For example, for the <code>doduo</code> cluster, 
loading the <code>cluster/doduo</code> module corresponds to loading 3 different <code>env/</code> modules:</p>
<table>
<thead>
<tr>
<th><code>env/</code> module for <code>doduo</code></th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>env/slurm/doduo</code></td>
<td>Changes <code>$SLURM_CLUSTERS</code> which specifies the cluster where jobs are sent to.</td>
</tr>
<tr>
<td><code>env/software/doduo</code></td>
<td>Changes <code>$MODULEPATH</code>, which controls what software modules are available for loading.</td>
</tr>
<tr>
<td><code>env/vsc/doduo</code></td>
<td>Changes the set of <code>$VSC_</code> environment variables that are specific to the <code>doduo</code> cluster</td>
</tr>
</tbody>
</table>
<p>We recommend that you do not use these separate <code>env/</code> modules directly unless you really need to,
and only if you understand what they are doing exactly.
Since mixing <code>cluster/</code> and <code>env/</code> modules of different clusters can result in surprises if you are not careful.</p>
<p>We also recommend using a <code>module swap cluster</code> command after submitting the jobs.
This to "reset" your environment to a sane state.</p>
<h2 id="monitoring-and-managing-your-jobs">Monitoring and managing your job(s)<a class="headerlink" href="#monitoring-and-managing-your-jobs" title="Permanent link">#</a></h2>
<p>Using the job ID that <code>qsub</code> returned, there are various ways to monitor
the status of your job. In the following commands, replace <code>12345</code> with
the job ID <code>qsub</code> returned.</p>
<div class="highlight"><pre><span></span><code>qstat 12345
</code></pre></div>
<p>To show on which compute nodes your job is running, at least, when it is
running:</p>
<div class="highlight"><pre><span></span><code>qstat -n 12345
</code></pre></div>
<p>To remove a job from the queue so that it will not run, or to stop a job
that is already running.</p>
<div class="highlight"><pre><span></span><code>qdel 12345
</code></pre></div>
<p>When you have submitted several jobs (or you just forgot about the job
ID), you can retrieve the status of all your jobs that are submitted and
are not yet finished using:</p>
<div class="highlight"><pre><span></span><code>$ qstat
:
Job ID      Name    User      Time Use S Queue
----------- ------- --------- -------- - -----
123456 ....     mpi  vsc40000     0    Q short
</code></pre></div>
<p>Here:</p>
<p><strong>Job ID</strong>      the job's unique identifier</p>
<p><strong>Name</strong>        the name of the job</p>
<p><strong>User</strong>        the user that owns the job</p>
<p><strong>Time Use</strong>    the elapsed walltime for the job</p>
<p><strong>Queue</strong>       the queue the job is in</p>
<p>The state S can be any of the following:</p>
<table>
<thead>
<tr>
<th align="left"><a href=""></a> State</th>
<th align="left">Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><strong>Q</strong></td>
<td align="left">The job is <strong>queued</strong> and is waiting to start.</td>
</tr>
<tr>
<td align="left"><strong>R</strong></td>
<td align="left">The job is currently <strong>running</strong>.</td>
</tr>
<tr>
<td align="left"><strong>E</strong></td>
<td align="left">The job is currently <strong>exit</strong> after having run.</td>
</tr>
<tr>
<td align="left"><strong>C</strong></td>
<td align="left">The job is <strong>completed</strong> after having run.</td>
</tr>
<tr>
<td align="left"><strong>H</strong></td>
<td align="left">The job has a user or system <strong>hold</strong> on it and will not be eligible to run until the hold is removed.</td>
</tr>
</tbody>
</table>
<p>User hold means that the user can remove the hold. System hold means
that the system or an administrator has put the job on hold, very likely
because something is wrong with it. Check with your helpdesk to see why
this is the case.</p>
<h2 id="examining-the-queue">Examining the queue<a class="headerlink" href="#examining-the-queue" title="Permanent link">#</a></h2>
<p>There is currently (since May 2019) no way to get an overall view of the
state of the cluster queues for the HPC-UGent infrastructure infrastructure, due to changes to
the cluster resource management software (and also because a general
overview is mostly meaningless since it doesn't give any indication of
the resources requested by the queued jobs).</p>
<h2 id="specifying-job-requirements">Specifying job requirements<a class="headerlink" href="#specifying-job-requirements" title="Permanent link">#</a></h2>
<p>Without giving more information about your job upon submitting it with <strong>qsub</strong>,
default values will be assumed that are almost never appropriate for
real jobs.</p>
<p>It is important to estimate the resources you need to successfully run
your program, such as the amount of time the job will require, the
amount of memory it needs, the number of CPUs it will run on, etc. This
may take some work, but it is necessary to ensure your jobs will run
properly.</p>
<h3 id="generic-resource-requirements">Generic resource requirements<a class="headerlink" href="#generic-resource-requirements" title="Permanent link">#</a></h3>
<p>The <strong>qsub</strong> command takes several options to specify the requirements, of which
we list the most commonly used ones below.</p>
<div class="highlight"><pre><span></span><code>qsub -l walltime=2:30:00 ...
</code></pre></div>
<p>For the simplest cases, only the amount of maximum estimated execution
time (called "walltime") is really important. Here, the job requests 2
hours, 30 minutes. As soon as the job exceeds the requested walltime, it
will be "killed" (terminated) by the job scheduler. There is no harm if
you <em>slightly</em> overestimate the maximum execution time. If you omit this
option, the queue manager will not complain but use a default value (one
hour on most clusters).</p>
<p>The maximum walltime for HPC-UGent clusters is <strong>72 hours</strong>.</p>
<p>If you want to run some final steps (for example to copy files back)
before the walltime kills your main process, you have to kill the main
command yourself before the walltime runs out and then copy the file
back. See <a href="../jobscript_examples/#running-a-command-with-a-maximum-time-limit">the section on Running a command with a maximum time limit</a> for how to do this.</p>
<div class="highlight"><pre><span></span><code>qsub -l mem=4gb ...
</code></pre></div>
<p>The job requests 4 GB of RAM memory. As soon as the job tries to use
more memory, it will be "killed" (terminated) by the job scheduler.
There is no harm if you <em>slightly</em> overestimate the requested memory.</p>
<p>The default memory reserved for a job on any given HPC-UGent cluster is
the "usable memory per node" divided by the "numbers of cores in a node"
multiplied by the requested processor core(s) (ppn). Jobs will request
the default memory without defining memory for the job, either as a
command line option or as a memory directive in the job script. Please
note that using the default memory is recommended. For "usable memory
per node" and "number of cores in a node" please consult
<a href="https://www.ugent.be/hpc/en/infrastructure">https://www.ugent.be/hpc/en/infrastructure</a>.</p>
<div class="highlight"><pre><span></span><code>qsub -l nodes=5:ppn=2 ...
</code></pre></div>
<p>The job requests 5 compute nodes with two cores on each node (ppn stands
for "processors per node", where "processors" here actually means
"CPU cores").</p>
<div class="highlight"><pre><span></span><code>qsub -l nodes=1:westmere
</code></pre></div>
<p>The job requests just one node, but it should have an Intel Westmere
processor. A list with site-specific properties can be found in the next
section or in the User Portal ("VSC hardware" section)<sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup> of the VSC
website.</p>
<p>These options can either be specified on the command line, e.g.</p>
<div class="highlight"><pre><span></span><code>qsub -l nodes=1:ppn,mem=2gb fibo.pbs
</code></pre></div>
<p>or in the job script itself using the #PBS-directive, so "fibo.pbs"
could be modified to:</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash -l</span>
<span class="c1">#PBS -l nodes=1:ppn=1</span>
<span class="c1">#PBS -l mem=2gb</span>
<span class="nb">cd</span><span class="w"> </span><span class="nv">$PBS_O_WORKDIR</span>
./fibo.pl
</code></pre></div>
<p>Note that the resources requested on the command line will override
those specified in the PBS file.</p>
<h2 id="job-output-and-error-files">Job output and error files<a class="headerlink" href="#job-output-and-error-files" title="Permanent link">#</a></h2>
<p>At some point your job finishes, so you may no longer see the job ID in
the list of jobs when you run <em>qstat</em> (since it will only be listed for
a few minutes after completion with state "C"). After your job finishes,
you should see the standard output and error of your job in two files,
located by default in the directory where you issued the <em>qsub</em> command.</p>
<p>When you navigate to that directory and list its contents, you should
see them:</p>
<div class="highlight"><pre><span></span><code>$ ls -l
total 1024
-rw-r--r-- 1 vsc40000  609 Sep 11 10:54 fibo.pl
-rw-r--r-- 1 vsc40000   68 Sep 11 10:53 fibo.pbs
-rw------- 1 vsc40000   52 Sep 11 11:03 fibo.pbs.e123456
-rw------- 1 vsc40000 1307 Sep 11 11:03 fibo.pbs.o123456
</code></pre></div>
<p>In our case, our job has created both output ('fibo.pbs.') and error
files ('fibo.pbs.') containing info written to <em>stdout</em> and <em>stderr</em>
respectively.</p>
<p>Inspect the generated output and error files:</p>
<div class="highlight"><pre><span></span><code>$ cat fibo.pbs.o123456
...
$ cat fibo.pbs.e123456
...
</code></pre></div>
<h2 id="e-mail-notifications">E-mail notifications<a class="headerlink" href="#e-mail-notifications" title="Permanent link">#</a></h2>
<h3 id="generate-your-own-e-mail-notifications">Generate your own e-mail notifications<a class="headerlink" href="#generate-your-own-e-mail-notifications" title="Permanent link">#</a></h3>
<p>You can instruct the HPC to send an e-mail to your e-mail address whenever a
job <strong>b</strong>egins, <strong>e</strong>nds and/or <strong>a</strong>borts, by adding the following lines to the job
script <code>fibo.pbs</code>:</p>
<div class="highlight"><pre><span></span><code><span class="c1">#PBS -m b </span>
<span class="c1">#PBS -m e </span>
<span class="c1">#PBS -m a</span>
</code></pre></div>
<p>or</p>
<div class="highlight"><pre><span></span><code><span class="c1">#PBS -m abe</span>
</code></pre></div>
<p>These options can also be specified on the command line. Try it and see
what happens:</p>
<div class="highlight"><pre><span></span><code>qsub -m abe fibo.pbs
</code></pre></div>
<p>The system will use the e-mail address that is connected to your VSC
account. You can also specify an alternate e-mail address with the <code>-M</code>
option:</p>
<div class="highlight"><pre><span></span><code>qsub -m b -M john.smith@example.com fibo.pbs
</code></pre></div>
<p>will send an e-mail to john.smith@example.com when the job begins.</p>
<h2 id="running-a-job-after-another-job">Running a job after another job<a class="headerlink" href="#running-a-job-after-another-job" title="Permanent link">#</a></h2>
<p>If you submit two jobs expecting that should be run one after another
(for example because the first generates a file the second needs), there
might be a problem as they might both be run at the same time.</p>
<p>So the following example might go wrong:</p>
<div class="highlight"><pre><span></span><code>$ qsub job1.sh
$ qsub job2.sh
</code></pre></div>
<p>You can make jobs that depend on other jobs. This can be useful for
breaking up large jobs into smaller jobs that can be run in a pipeline.
The following example will submit 2 jobs, but the second job (<code>job2.sh</code>)
will be held (<code>H</code> status in <code>qstat</code>) until the first job successfully
completes. If the first job fails, the second will be cancelled.</p>
<div class="highlight"><pre><span></span><code>$ FIRST_ID=$(qsub job1.sh)
$ qsub -W depend=afterok:$FIRST_ID job2.sh
</code></pre></div>
<p><code>afterok</code> means "After OK", or in other words, after the first job
successfully completed.</p>
<p>It's also possible to use <code>afternotok</code> ("After not OK") to run the
second job only if the first job exited with errors. A third option is
to use <code>afterany</code> ("After any"), to run the second job after the first
job (regardless of success or failure).</p>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>URL:
<a href="https://vscdocumentation.readthedocs.io/en/latest/hardware.html">https://vscdocumentation.readthedocs.io/en/latest/hardware.html</a>&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div>





                
<script>
 if (!! localStorage.getItem('select_OS')) {
    const classes = ["headerlink", "md-nav__link"]
    for (i in classes) {
        var anchors = Array.from(document.getElementsByClassName(classes[i]))
        anchors.forEach(
            function (anch) {
                const href = anch.href;
                if (!!anch.href) {
                    // Remove OS part and search query in permalinks if it exists. Useful when copying the urls.
                    anch.href = anch.href.replace(/\/(Linux|macOS|Windows)\//i, "/").replace(/\?[^#]*/,"")
                }
                anch.addEventListener("click",(event) => {
                    // Redirect to real original target. (with OS,and search query)
                    event.target.href = href;
                })
            })
    }
}
</script>

              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../connecting/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Connecting to the HPC infrastructure" rel="prev">
            <div class="md-footer__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Connecting to the HPC infrastructure
              </div>
            </div>
          </a>
        
        
          
          <a href="../running_interactive_jobs/" class="md-footer__link md-footer__link--next" aria-label="Next: Running interactive jobs" rel="next">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Running interactive jobs
              </div>
            </div>
            <div class="md-footer__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://www.youtube.com/@HPCUGent" target="_blank" rel="noopener" title="www.youtube.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.top", "navigation.expand", "navigation.tracking", "navigation.footer", "toc.follow", "navigation.sections", "navigation.instant", "search.suggest", "search.highlight", "search.share", "content.code.copy"], "search": "../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.51198bba.min.js"></script>
      
        <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
      
        <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
      
        <script src="../available_software/javascripts/populate_overview.js"></script>
      
    
  </body>
</html>