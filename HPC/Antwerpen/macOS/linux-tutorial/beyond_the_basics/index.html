
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.1.6">
    
    
      
        <title>Beyond the basics - VSC User Documentation - Antwerpen (macOS)</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.ded33207.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#beyond-the-basics" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="VSC User Documentation - Antwerpen (macOS)" class="md-header__button md-logo" aria-label="VSC User Documentation - Antwerpen (macOS)" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            VSC User Documentation - Antwerpen (macOS)
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Beyond the basics
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <!-- Original file https://github.com/squidfunk/mkdocs-material/blob/master/material/partials/source.html -->
<!-- More information see https://squidfunk.github.io/mkdocs-material/customization/ -->
<!-- This is code FOR OS PICKER NOT FOR INTENTED PURPOSE AS REPO LINK -->
<div class="md-source">
  <label for="picker">Your OS:</label>
  <select name="picker" id="picker" style="border: none; background-color: var(--md-primary-fg-color); color: inherit">
    <option value="" disabled selected>Choose OS</option>
    <option value="Linux">Linux</option>
    <option value="Windows">Windows</option>
    <option value="macOS">macOS</option>
  </select>
</div>

<script>
  {
    const elements = document.querySelectorAll("#picker");
    const store_OS = localStorage.getItem("select_OS");
    // Get url before OS part.
    const osmatch = window.location.href.match(/^(.*?)\/(Linux|macOS|Windows)\//i);

    elements.forEach(e => {
      e.addEventListener("change", (event) => {
        if (event.target.value){
          // Save new OS pick.
          localStorage.setItem("select_OS", JSON.stringify([osmatch[1], event.target.value]));
          // Redirect to new OS page.
          window.location.href = window.location.href.replace(/Linux|MacOS|Windows/i,event.target.value);
        }
      });
      if (store_OS) {
        // There is a stored OS, so set select to this option.
        e.value = JSON.parse(store_OS)[1];
      }
    })
  }
</script>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="VSC User Documentation - Antwerpen (macOS)" class="md-nav__button md-logo" aria-label="VSC User Documentation - Antwerpen (macOS)" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    VSC User Documentation - Antwerpen (macOS)
  </label>
  
    <div class="md-nav__source">
      <!-- Original file https://github.com/squidfunk/mkdocs-material/blob/master/material/partials/source.html -->
<!-- More information see https://squidfunk.github.io/mkdocs-material/customization/ -->
<!-- This is code FOR OS PICKER NOT FOR INTENTED PURPOSE AS REPO LINK -->
<div class="md-source">
  <label for="picker">Your OS:</label>
  <select name="picker" id="picker" style="border: none; background-color: var(--md-primary-fg-color); color: inherit">
    <option value="" disabled selected>Choose OS</option>
    <option value="Linux">Linux</option>
    <option value="Windows">Windows</option>
    <option value="macOS">macOS</option>
  </select>
</div>

<script>
  {
    const elements = document.querySelectorAll("#picker");
    const store_OS = localStorage.getItem("select_OS");
    // Get url before OS part.
    const osmatch = window.location.href.match(/^(.*?)\/(Linux|macOS|Windows)\//i);

    elements.forEach(e => {
      e.addEventListener("change", (event) => {
        if (event.target.value){
          // Save new OS pick.
          localStorage.setItem("select_OS", JSON.stringify([osmatch[1], event.target.value]));
          // Redirect to new OS page.
          window.location.href = window.location.href.replace(/Linux|MacOS|Windows/i,event.target.value);
        }
      });
      if (store_OS) {
        // There is a stored OS, so set select to this option.
        e.value = JSON.parse(store_OS)[1];
      }
    })
  }
</script>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Welcome
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../introduction/" class="md-nav__link">
        Introduction to HPC
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/" class="md-nav__link">
        Getting Started
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../account/" class="md-nav__link">
        Getting an HPC Account
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../connecting/" class="md-nav__link">
        Connecting to the HPC infrastructure
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../running_batch_jobs/" class="md-nav__link">
        Running batch jobs
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../running_interactive_jobs/" class="md-nav__link">
        Running interactive jobs
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../running_jobs_with_input_output_data/" class="md-nav__link">
        Running jobs with input/output data
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../multi_core_jobs/" class="md-nav__link">
        Multi core jobs/Parallel Computing
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../web_portal/" class="md-nav__link">
        Using the HPC-UGent web portal
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../xdmod/" class="md-nav__link">
        XDMoD portal
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting/" class="md-nav__link">
        Troubleshooting
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../sites/hpc_policies/" class="md-nav__link">
        HPC Policies
      </a>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_14" >
      
      
      
        <label class="md-nav__link" for="__nav_14" id="__nav_14_label" tabindex="0">
          Advanced topics
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_14_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_14">
          <span class="md-nav__icon md-icon"></span>
          Advanced topics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../torque_frontend_via_jobcli/" class="md-nav__link">
        Torque frontend via jobcli
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../fine_tuning_job_specifications/" class="md-nav__link">
        Fine-tuning Job Specifications
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../multi_job_submission/" class="md-nav__link">
        Multi-job submission
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../compiling_your_software/" class="md-nav__link">
        Compiling and testing your software on the HPC
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../program_examples/" class="md-nav__link">
        Program examples
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../jobscript_examples/" class="md-nav__link">
        Job script examples
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../best_practices/" class="md-nav__link">
        Best Practices
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../VNC/" class="md-nav__link">
        Graphical applications with VNC
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../x2go/" class="md-nav__link">
        Graphical applications with X2Go
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_15" >
      
      
      
        <label class="md-nav__link" for="__nav_15" id="__nav_15_label" tabindex="0">
          Software-specific Best Practices
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_15_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_15">
          <span class="md-nav__icon md-icon"></span>
          Software-specific Best Practices
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../alphafold/" class="md-nav__link">
        AlphaFold
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../apptainer/" class="md-nav__link">
        Apptainer/Singularity
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../easybuild/" class="md-nav__link">
        EasyBuild
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../jupyter/" class="md-nav__link">
        Jupyter notebook
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../MATLAB/" class="md-nav__link">
        MATLAB
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../mympirun/" class="md-nav__link">
        mympirun
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../openFOAM/" class="md-nav__link">
        OpenFOAM
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../python/" class="md-nav__link">
        Python
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../setting_up_python_virtual_environments/" class="md-nav__link">
        Python virtual environments
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../vscodetunnel/" class="md-nav__link">
        VS Code Tunnel
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_16" >
      
      
      
        <label class="md-nav__link" for="__nav_16" id="__nav_16_label" tabindex="0">
          FAQ
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_16_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_16">
          <span class="md-nav__icon md-icon"></span>
          FAQ
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../FAQ/" class="md-nav__link">
        Frequently Asked Questions
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_17" >
      
      
      
        <label class="md-nav__link" for="__nav_17" id="__nav_17_label" tabindex="0">
          Appendices
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_17_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_17">
          <span class="md-nav__icon md-icon"></span>
          Appendices
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../quick_reference_guide/" class="md-nav__link">
        Appendix A - HPC Quick Reference Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../torque_options/" class="md-nav__link">
        Appendix B - TORQUE options
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../useful_linux_commands/" class="md-nav__link">
        Appendix C - Useful Linux Commands
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#inputoutput" class="md-nav__link">
    Input/output
  </a>
  
    <nav class="md-nav" aria-label="Input/output">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#redirecting-stdout" class="md-nav__link">
    Redirecting stdout
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reading-from-stdin" class="md-nav__link">
    Reading from stdin
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#redirecting-stderr" class="md-nav__link">
    Redirecting stderr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#combining-stdout-and-stderr" class="md-nav__link">
    Combining stdout and stderr
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#command-piping" class="md-nav__link">
    Command piping
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shell-expansion" class="md-nav__link">
    Shell expansion
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#process-information" class="md-nav__link">
    Process information
  </a>
  
    <nav class="md-nav" aria-label="Process information">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ps-and-pstree" class="md-nav__link">
    ps and pstree
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kill" class="md-nav__link">
    kill
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#top" class="md-nav__link">
    top
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ulimit" class="md-nav__link">
    ulimit
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#counting-wc" class="md-nav__link">
    Counting: wc
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#searching-file-contents-grep" class="md-nav__link">
    Searching file contents: grep
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cut" class="md-nav__link">
    cut
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sed" class="md-nav__link">
    sed
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#awk" class="md-nav__link">
    awk
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#basic-shell-scripting" class="md-nav__link">
    Basic Shell Scripting
  </a>
  
    <nav class="md-nav" aria-label="Basic Shell Scripting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#shebang" class="md-nav__link">
    Shebang
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conditionals" class="md-nav__link">
    Conditionals
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#loops" class="md-nav__link">
    Loops
  </a>
  
    <nav class="md-nav" aria-label="Loops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#subcommands" class="md-nav__link">
    Subcommands
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#errors" class="md-nav__link">
    Errors
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bashrc-login-script" class="md-nav__link">
    .bashrc login script
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scripting-for-the-cluster" class="md-nav__link">
    Scripting for the cluster
  </a>
  
    <nav class="md-nav" aria-label="Scripting for the cluster">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-job-script" class="md-nav__link">
    Example job script
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pbs-pragmas" class="md-nav__link">
    PBS pragmas
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exercises" class="md-nav__link">
    Exercises
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                

                  

  
  


<h1 id="beyond-the-basics">Beyond the basics<a class="headerlink" href="#beyond-the-basics" title="Permanent link">#</a></h1>
<p>Now that you've seen some of the more basic commands, let's take a look
at some of the deeper concepts and commands.</p>
<h2 id="inputoutput">Input/output<a class="headerlink" href="#inputoutput" title="Permanent link">#</a></h2>
<p>To redirect output to files, you can use the redirection operators: <code>&gt;</code>,
<code>&gt;&gt;</code>, <code>&amp;&gt;</code>, and <code>&lt;</code>.</p>
<p>First, it's important to make a distinction between two different output
channels:</p>
<ol>
<li>
<p><code>stdout</code>: standard output channel, for regular output</p>
</li>
<li>
<p><code>stderr</code>: standard error channel, for errors and warnings</p>
</li>
</ol>
<h3 id="redirecting-stdout">Redirecting <code>stdout</code><a class="headerlink" href="#redirecting-stdout" title="Permanent link">#</a></h3>
<p><code>&gt;</code> writes the (<code>stdout</code>) output of a command to a file and <em>overwrites</em>
whatever was in the file before.
<div class="highlight"><pre><span></span><code>$ echo hello &gt; somefile
$ cat somefile
hello
$ echo hello2 &gt; somefile
$ cat somefile
hello2
</code></pre></div></p>
<p><code>&gt;&gt;</code> appends the (<code>stdout</code>) output of a command to a file; it does not
clobber whatever was in the file before:
<div class="highlight"><pre><span></span><code>$ echo hello &gt; somefile
$ cat somefile 
hello
$ echo hello2 &gt;&gt; somefile
$ cat somefile
hello
hello2
</code></pre></div></p>
<h3 id="reading-from-stdin">Reading from <code>stdin</code><a class="headerlink" href="#reading-from-stdin" title="Permanent link">#</a></h3>
<p><code>&lt;</code> reads a file from standard input (piped or typed input). So you
would use this to simulate typing into a terminal. <code>&lt; somefile.txt</code> is
largely equivalent to <code>cat somefile.txt |</code>.</p>
<p>One common use might be to take the results of a long-running
command and store the results in a file, so you don't have to repeat it
while you refine your command line. For example, if you have a large
directory structure you might save a list of all the files you're
interested in and then reading in the file list when you are done:
<div class="highlight"><pre><span></span><code>$ find . -name .txt &gt; files
$ xargs grep banana &lt; files
</code></pre></div></p>
<h3 id="redirecting-stderr">Redirecting <code>stderr</code><a class="headerlink" href="#redirecting-stderr" title="Permanent link">#</a></h3>
<p>To redirect the <code>stderr</code> output (warnings, messages), you can use <code>2&gt;</code>,
just like <code>&gt;</code>
<div class="highlight"><pre><span></span><code>$ ls one.txt nosuchfile.txt 2&gt; errors.txt
one.txt
$ cat errors.txt
ls: nosuchfile.txt: No such file or directory
</code></pre></div></p>
<h3 id="combining-stdout-and-stderr">Combining <code>stdout</code> and <code>stderr</code><a class="headerlink" href="#combining-stdout-and-stderr" title="Permanent link">#</a></h3>
<p>To combine both output channels (<code>stdout</code> and <code>stderr</code>) and redirect
them to a single file, you can use <code>&amp;&gt;</code>
<div class="highlight"><pre><span></span><code>$ ls one.txt nosuchfile.txt &amp;&gt; ls.out
$ cat ls.out
ls: nosuchfile.txt: No such file or directory
one.txt
</code></pre></div></p>
<h2 id="command-piping">Command piping<a class="headerlink" href="#command-piping" title="Permanent link">#</a></h2>
<p>Part of the power of the command line is to string multiple commands
together to create useful results. The core of these is the pipe: <code>|</code>.
For example, to see the number of files in a directory, we can pipe the
(<code>stdout</code>) output of <code>ls</code> to <code>wc</code> (<strong>w</strong>ord <strong>c</strong>ount, but can also be used to
count the number of lines with the <code>-l</code> flag).
<div class="highlight"><pre><span></span><code>$ ls | wc -l
    42
</code></pre></div></p>
<p>A common pattern is to pipe the output of a command to <code>less</code> so you
can examine or search the output:
<div class="highlight"><pre><span></span><code>$ find . | less
</code></pre></div></p>
<p>Or to look through your command history:
<div class="highlight"><pre><span></span><code>$ history | less
</code></pre></div></p>
<p>You can put multiple pipes in the same line. For example, which <code>cp</code>
commands have we run?
<div class="highlight"><pre><span></span><code>$ history | grep cp | less
</code></pre></div></p>
<h2 id="shell-expansion">Shell expansion<a class="headerlink" href="#shell-expansion" title="Permanent link">#</a></h2>
<p>The shell will expand certain things, including:</p>
<ol>
<li>
<p><code>*</code> wildcard: for example <code>ls t*txt</code> will list all files starting
    with 't' and ending in 'txt'</p>
</li>
<li>
<p>tab completion: hit the <code>&lt;tab&gt;</code> key to make the shell complete your
    command line; works for completing file names, command names, etc.</p>
</li>
<li>
<p><code>$...</code> or <code>${...}</code>: environment variables will be replaced with
    their value; example: <code>echo "I am $USER"</code> or <code>echo "I am ${USER}"</code></p>
</li>
<li>
<p>square brackets can be used to list a number of options for a
    particular characters; 
<span style="white-space: nowrap;">example: <code>ls *.[oe][0-9]</code>.</span>
 This will list all
    files starting with whatever characters (<code>*</code>), then a dot (<code>.</code>),
    then either an 'o' or an 'e' (<code>[oe]</code>), then a character from '0' to
    '9' (so any digit) (<code>[0-9]</code>). So this filename will match:
    <code>anything.o5</code>, but this one won't: <code>anything.o52</code>.</p>
</li>
</ol>
<h2 id="process-information">Process information<a class="headerlink" href="#process-information" title="Permanent link">#</a></h2>
<h3 id="ps-and-pstree"><code>ps</code> and <code>pstree</code><a class="headerlink" href="#ps-and-pstree" title="Permanent link">#</a></h3>
<p><code>ps</code> lists processes running. By default, it will only show you the
processes running in the local shell. To see all of your processes
running on the system, use:
<div class="highlight"><pre><span></span><code>$ ps -fu $USER
</code></pre></div></p>
<p>To see all the processes:
<div class="highlight"><pre><span></span><code>$ ps -elf
</code></pre></div></p>
<p>To see all the processes in a forest view, use:
<div class="highlight"><pre><span></span><code>$ ps auxf
</code></pre></div></p>
<p>The last two will spit out a lot of data, so get in the habit of piping
it to <code>less</code>.</p>
<p><code>pstree</code> is another way to dump a tree/forest view. It looks better than
<code>ps auxf</code> but it has much less information so its value is limited.</p>
<p><code>pgrep</code> will find all the processes where the name matches the pattern
and print the process IDs (PID). This is used in piping the processes
together as we will see in the next section.</p>
<h3 id="kill"><code>kill</code><a class="headerlink" href="#kill" title="Permanent link">#</a></h3>
<p><code>ps</code> isn't very useful unless you can manipulate the processes. We do
this using the <code>kill</code> command. Kill will send a message
(<a href="https://en.wikipedia.org/wiki/Unix_signal#POSIX_signals">SIGINT</a>) to
the process to ask it to stop.
<div class="highlight"><pre><span></span><code>$ kill 1234
$ kill $(pgrep misbehaving_process)
</code></pre></div></p>
<p>Usually, this ends the process, giving it the opportunity to flush data
to files, etc. However, if the process ignored your signal, you can send
it a different message
(<a href="https://en.wikipedia.org/wiki/Unix_signal#POSIX_signals">SIGKILL</a>)
which the OS will use to unceremoniously terminate the process:
<div class="highlight"><pre><span></span><code>$ kill -9 1234
</code></pre></div></p>
<h3 id="top"><code>top</code><a class="headerlink" href="#top" title="Permanent link">#</a></h3>
<p><code>top</code> is a tool to see the current status of the system. You've probably
used something similar in Task Manager on Windows or Activity Monitor in
macOS. <code>top</code> will update every second and has a few interesting
commands.</p>
<p>To see only your processes, type <code>u</code> and your username after starting
<code>top</code>, (you can also do this with 
<span style="white-space: nowrap;"><code>top -u $USER</code></span>
). The default is to
sort the display by <code>%CPU</code>. To change the sort order, use <code>&lt;</code> and <code>&gt;</code>
like arrow keys.</p>
<p>There are a lot of configuration options in <code>top</code>, but if you're
interested in seeing a nicer view, you can run <code>htop</code> instead. Be aware
that it's not installed everywhere, while <code>top</code> is.</p>
<p>To exit <code>top</code>, use <code>q</code> (for 'quit').</p>
<p>For more information, see <a href="http://brendangregg.com">Brendan Gregg's excellent site dedicated to
performance analysis</a>.</p>
<h3 id="ulimit">ulimit<a class="headerlink" href="#ulimit" title="Permanent link">#</a></h3>
<p><code>ulimit</code> is a utility to get or set user limits on the machine. For
example, you may be limited to a certain number of processes. To see all
the limits that have been set, use:
<div class="highlight"><pre><span></span><code>$ ulimit -a
</code></pre></div></p>
<h2 id="counting-wc">Counting: <code>wc</code><a class="headerlink" href="#counting-wc" title="Permanent link">#</a></h2>
<p>To count the number of lines, words, and characters (or bytes) in a file, use <code>wc</code> (<strong>w</strong>ord <strong>c</strong>ount):
<div class="highlight"><pre><span></span><code>$ wc example.txt
      90     468     3189   example.txt
</code></pre></div></p>
<p>The output indicates that the file named <code>example.txt</code> contains 90
lines, 468 words, and 3189 characters/bytes.</p>
<p>To only count the number of lines, use <code>wc -l</code>:
<div class="highlight"><pre><span></span><code>$ wc -l example.txt
      90    example.txt
</code></pre></div></p>
<h2 id="searching-file-contents-grep">Searching file contents: <code>grep</code><a class="headerlink" href="#searching-file-contents-grep" title="Permanent link">#</a></h2>
<p><code>grep</code> is an important command. It was originally an abbreviation for
"globally search a regular expression and print" but it's entered the
common computing lexicon and people use 'grep' to mean searching for
anything. To use grep, you give a pattern and a list of files.
<div class="highlight"><pre><span></span><code>$ grep banana fruit.txt
$ grep banana fruit_bowl1.txt fruit_bowl2.txt
$ grep banana fruit*txt
</code></pre></div></p>
<p><code>grep</code> also lets you search for <a href="https://en.wikipedia.org/wiki/Regular_expression">Regular
Expressions</a>, but
these are not in scope for this introductory text.</p>
<h2 id="cut"><code>cut</code><a class="headerlink" href="#cut" title="Permanent link">#</a></h2>
<p><code>cut</code> is used to pull fields out of files or pipes streams. It's a
useful glue when you mix it with <code>grep</code> because <code>grep</code> can find the
lines where a string occurs and <code>cut</code> can pull out a particular field.
For example, to pull the first column (<code>-f 1</code>, the first <strong>f</strong>ield) from (an
unquoted) CSV (comma-separated values, so <code>-d ','</code>: <strong>d</strong>elimited by <code>,</code>)
file, you can use the following:
<div class="highlight"><pre><span></span><code>$ cut -f 1 -d &#39;,&#39; mydata.csv
</code></pre></div></p>
<h2 id="sed"><code>sed</code><a class="headerlink" href="#sed" title="Permanent link">#</a></h2>
<p><code>sed</code> is the stream editor. It is used to replace text in a file or
piped stream. In this way, it works like grep, but instead of just
searching, it can also edit files. This is like "Search and Replace" in
a text editor. <code>sed</code> has a lot of features, but almost everyone uses the
extremely basic version of string replacement:
<div class="highlight"><pre><span></span><code>$ sed &#39;s/oldtext/newtext/g&#39; myfile.txt
</code></pre></div></p>
<p>By default, sed will just print the results. If you want to edit the
file inplace, use <code>-i</code>, but be very careful that the results will be
what you want before you go around <strong>destroying your data</strong>!</p>
<h2 id="awk"><code>awk</code><a class="headerlink" href="#awk" title="Permanent link">#</a></h2>
<p><code>awk</code> is a basic language that builds on <code>sed</code> to do much more advanced
stream editing. Going in depth is far out of scope of this tutorial, but
there are two examples that are worth knowing.</p>
<p>First, <code>cut</code> is very limited in pulling fields apart based on
whitespace. For example, if you have padded fields then
<code>cut -f 4 -d ' '</code> will almost certainly give you a headache as there
might be an uncertain number of spaces between each field. <code>awk</code> does
better whitespace splitting. So, pulling out the fourth field in a
whitespace delimited file is as follows:
<div class="highlight"><pre><span></span><code>$ awk &#39;{print $4}&#39; mydata.dat
</code></pre></div></p>
<p>You can use <code>-F ':'</code> to change the delimiter (F for field separator).</p>
<p>The next example is used to sum numbers from a field:
<div class="highlight"><pre><span></span><code>$ awk -F &#39;,&#39; &#39;{sum += $1} END {print sum}&#39; mydata.csv
</code></pre></div></p>
<h2 id="basic-shell-scripting">Basic Shell Scripting<a class="headerlink" href="#basic-shell-scripting" title="Permanent link">#</a></h2>
<p>The basic premise of a script is to execute automate the execution of
multiple commands. If you find yourself repeating the same commands over
and over again, you should consider writing one script to do the same. A
script is nothing special, it is just a text file like any other. Any
commands you put in there will be executed from the top to bottom.</p>
<p>However, there are some rules you need to abide by.</p>
<p>Here is a <a href="http://www.tldp.org/LDP/Bash-Beginners-Guide/html/">very detailed guide</a> should you
need more information.</p>
<h3 id="shebang">Shebang<a class="headerlink" href="#shebang" title="Permanent link">#</a></h3>
<p>The first line of the script is the so-called shebang (<code>#</code> is sometimes
called hash and <code>!</code> is sometimes called bang). This line tells the shell
which command should execute the script. In most cases, this will
simply be the shell itself. The line itself looks a bit weird, but you
can copy-paste this line as you need not worry about it further. It is
however very important this is the very first line of the script! These
are all valid shebangs, but you should only use one of them:</p>
<p><div class="highlight"><pre><span></span><code><span class="ch">#!/bin/sh</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>
</code></pre></div></p>
<h3 id="conditionals">Conditionals<a class="headerlink" href="#conditionals" title="Permanent link">#</a></h3>
<p>Sometimes you only want certain commands to be executed when a certain
condition is met. For example, only move files to a directory if that
directory exists. The syntax:
<div class="highlight"><pre><span></span><code><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-d<span class="w"> </span>directory<span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-f<span class="w"> </span>file<span class="w"> </span><span class="o">]</span>
<span class="k">then</span><span class="w"> </span>
<span class="w">  </span>mv<span class="w"> </span>file<span class="w"> </span>directory<span class="w"> </span>
<span class="k">fi</span>

Or<span class="w"> </span>you<span class="w"> </span>only<span class="w"> </span>want<span class="w"> </span>to<span class="w"> </span><span class="k">do</span><span class="w"> </span>something<span class="w"> </span><span class="k">if</span><span class="w"> </span>a<span class="w"> </span>file<span class="w"> </span>exists:

<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-f<span class="w"> </span>filename<span class="w"> </span><span class="o">]</span><span class="w"> </span>
<span class="k">then</span><span class="w"> </span>
<span class="w">  </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;it exists&quot;</span><span class="w"> </span>
<span class="k">fi</span>
</code></pre></div>
Or only if a certain variable is bigger than one:
<div class="highlight"><pre><span></span><code><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$AMOUNT</span><span class="w"> </span>-gt<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">]</span>
<span class="k">then</span>
<span class="w">  </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;More than one&quot;</span>
<span class="w">  </span><span class="c1"># more commands</span>
<span class="k">fi</span>
</code></pre></div>
Several pitfalls exist with this syntax. You need spaces surrounding the
brackets, the <strong>then</strong> needs to be at the beginning of a line. It is best to just
copy this example and modify it.</p>
<p>In the initial example, we used <code>-d</code> to test if a directory existed.
There are <a href="http://tldp.org/LDP/Bash-Beginners-Guide/html/sect_07_01.html">several more checks</a>.</p>
<p>Another useful example, is to test if a variable contains a value (so it's
not empty):
<div class="highlight"><pre><span></span><code><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-z<span class="w"> </span><span class="nv">$PBS_ARRAYID</span><span class="w"> </span><span class="o">]</span>
<span class="k">then</span>
<span class="w">  </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Not an array job, quitting.&quot;</span>
<span class="w">  </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
<span class="k">fi</span>
</code></pre></div></p>
<p>the <code>-z</code> will check if the length of the variable's value is greater than zero.</p>
<h2 id="loops">Loops<a class="headerlink" href="#loops" title="Permanent link">#</a></h2>
<p>Are you copy-pasting commands? Are you doing the same thing with just different
options? You most likely can simplify your script by using a loop.</p>
<p>Let's look at a simple example:
<div class="highlight"><pre><span></span><code><span class="k">for</span><span class="w"> </span>i<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">3</span>
<span class="k">do</span>
<span class="w">  </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$i</span>
<span class="k">done</span>
</code></pre></div></p>
<h3 id="subcommands">Subcommands<a class="headerlink" href="#subcommands" title="Permanent link">#</a></h3>
<p>Subcommands are used all the time in shell scripts. What they
do is storing the output of a command in a variable. So this can later
be used in a conditional or a loop for example.
<div class="highlight"><pre><span></span><code>CURRENTDIR=`pwd`  # using backticks
CURRENTDIR=$(pwd)  # recommended (easier to type)
</code></pre></div></p>
<p>In the above example you can see the 2 different methods of using a
subcommand. <code>pwd</code> will output the current working directory, and its
output will be stored in the CURRENTDIR variable. The recommended way to
use subcommands is with the <code>$()</code> syntax.</p>
<h3 id="errors">Errors<a class="headerlink" href="#errors" title="Permanent link">#</a></h3>
<p>Sometimes some things go wrong and a command or script you ran causes an
error. How do you properly deal with these situations?</p>
<p>Firstly a useful thing to know for debugging and testing is that you can
run any command like this:
<div class="highlight"><pre><span></span><code>command 2&gt;&amp;1 output.log   # one single output file, both output and errors
</code></pre></div></p>
<p>If you add <code>2&gt;&amp;1 output.log</code> at the end of any command, it will combine
<code>stdout</code> and <code>stderr</code>, outputting it into a single file named
<code>output.log</code>.</p>
<p>If you want regular and error output separated you can use:
<div class="highlight"><pre><span></span><code>command &gt; output.log 2&gt; output.err  # errors in a separate file
</code></pre></div></p>
<p>this will write regular output to <code>output.log</code> and error output to
<code>output.err</code>.</p>
<p>You can then look for the errors with <code>less</code> or search for specific text
with <code>grep</code>.</p>
<p>In scripts, you can use:
<div class="highlight"><pre><span></span><code>set -e
</code></pre></div></p>
<p>This will tell the shell to stop executing any subsequent commands when
a single command in the script fails. This is most convenient as most
likely this causes the rest of the script to fail as well.</p>
<h4 id="advanced-error-checking">Advanced error checking<a class="headerlink" href="#advanced-error-checking" title="Permanent link">#</a></h4>
<p>Sometimes you want to control all the error checking yourself, this is
also possible. Everytime you run a command, a special variable <code>$?</code> is
used to denote successful completion of the command. A value other than
zero signifies something went wrong. So an example use case:
<div class="highlight"><pre><span></span><code>command_with_possible_error
<span class="nv">exit_code</span><span class="o">=</span><span class="nv">$?</span><span class="w">  </span><span class="c1"># capture exit code of last command</span>
<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$exit_code</span><span class="w"> </span>-ne<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]</span>
<span class="k">then</span>
<span class="w">  </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;something went wrong&quot;</span>
<span class="k">fi</span>
</code></pre></div></p>
<h2 id="bashrc-login-script"><code>.bashrc</code> login script<a class="headerlink" href="#bashrc-login-script" title="Permanent link">#</a></h2>
<p>If you have certain commands executed every time you log in (which
includes every time a job starts), you can add them to your
<code>$HOME/.bashrc</code> file. This file is a shell script that gets executed
every time you log in.</p>
<p>Examples include:</p>
<ul>
<li>
<p>modifying your <code>$PS1</code> (to tweak your shell prompt)</p>
</li>
<li>
<p>printing information about the current/jobs environment (echoing
    environment variables, etc.)</p>
</li>
<li>
<p>selecting a specific cluster to run on with
    <code>module swap cluster/...</code></p>
</li>
</ul>
<p>Some recommendations:</p>
<ul>
<li>
<p>Avoid using <code>module load</code> statements in your <code>$HOME/.bashrc</code> file</p>
</li>
<li>
<p>Don't directly edit your <code>.bashrc</code> file: if there's an error in your
    <code>.bashrc</code> file, you might not be able to log in again. To
    prevent that, use another file to test your changes, then copy them
    over when you tested the script.</p>
</li>
</ul>
<h2 id="scripting-for-the-cluster">Scripting for the cluster<a class="headerlink" href="#scripting-for-the-cluster" title="Permanent link">#</a></h2>
<p>When writing scripts to be submitted on the cluster there are some
tricks you need to keep in mind.</p>
<h3 id="example-job-script">Example job script<a class="headerlink" href="#example-job-script" title="Permanent link">#</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>
<span class="c1">#PBS -l nodes=1:ppn=1</span>
<span class="c1">#PBS -N FreeSurfer_per_subject-time-longitudinal</span>
<span class="c1">#PBS -l walltime=48:00:00</span>
<span class="c1">#PBS -q long</span>
<span class="c1">#PBS -m abe</span>
<span class="c1">#PBS -j oe</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">DATADIR</span><span class="o">=</span><span class="nv">$VSC_DATA</span>/example
<span class="c1"># $PBS_JOBID is unique for each job, so this creates a unique directory</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">WORKDIR</span><span class="o">=</span><span class="nv">$VSC_SCRATCH_NODE</span>/<span class="nv">$PBS_JOBID</span>
mkdir<span class="w"> </span>-p<span class="w"> </span><span class="nv">$WORKDIR</span>
<span class="c1"># copy files to local storage</span>
cp<span class="w"> </span>-a<span class="w"> </span><span class="nv">$DATADIR</span>/workfiles<span class="w"> </span><span class="nv">$WORKDIR</span>/

<span class="c1"># load software we need</span>
module<span class="w"> </span>load<span class="w"> </span>FreeSurfer
<span class="nb">cd</span><span class="w"> </span><span class="nv">$WORKDIR</span>
<span class="c1"># recon-all ... &amp;&gt; output.log  # this command takes too long, let&#39;s show a more practical example</span>
<span class="nb">echo</span><span class="w"> </span><span class="nv">$PBS_ARRAYID</span><span class="w"> </span>&gt;<span class="w"> </span><span class="nv">$WORKDIR</span>/<span class="nv">$PBS_ARRAYID</span>.txt
<span class="c1"># create results directory if necessary</span>
mkdir<span class="w"> </span>-p<span class="w"> </span><span class="nv">$DATADIR</span>/results
<span class="c1"># copy work files back</span>
cp<span class="w"> </span><span class="nv">$WORKDIR</span>/<span class="nv">$PBS_ARRAYID</span>.txt<span class="w"> </span><span class="nv">$DATADIR</span>/results/
</code></pre></div>
<h3 id="pbs-pragmas">PBS pragmas<a class="headerlink" href="#pbs-pragmas" title="Permanent link">#</a></h3>
<p>The scheduler needs to know about the requirements of the script, for
example: how much memory will it use, and how long will it run. These
things can be specified inside a script with what we call PBS pragmas.</p>
<p>This pragma (a pragma is a special comment) tells PBS to use 1 node and core:
<div class="highlight"><pre><span></span><code><span class="c1">#PBS -l nodes=1:ppn=1 # single-core</span>
</code></pre></div></p>
<p>For parallel software, you can request multiple cores (OpenMP) and/or
multiple nodes (MPI). <em>Only use this when the software you
use is capable of working in parallel</em>. Here is an example:
<div class="highlight"><pre><span></span><code><span class="c1">#PBS -l nodes=1:ppn=16  # single-node, multi-core</span>
<span class="c1">#PBS -l nodes=5:ppn=16  # multi-node</span>
</code></pre></div></p>
<p>We intend to submit it on the long queue:
<div class="highlight"><pre><span></span><code><span class="c1">#PBS -q long</span>
</code></pre></div></p>
<p>We request a total running time of 48 hours (2 days).
<div class="highlight"><pre><span></span><code><span class="c1">#PBS -l walltime=48:00:00</span>
</code></pre></div></p>
<p>We specify a desired name of our job:
<div class="highlight"><pre><span></span><code><span class="c1">#PBS -N FreeSurfer_per_subject-time-longitudinal</span>
</code></pre></div>
This specifies mail options:
<div class="highlight"><pre><span></span><code><span class="c1">#PBS -m abe</span>
</code></pre></div></p>
<ol>
<li>
<p><code>a</code> means mail is sent when the job is aborted.</p>
</li>
<li>
<p><code>b</code> means mail is sent when the job begins.</p>
</li>
<li>
<p><code>e</code> means mail is sent when the job ends.</p>
</li>
</ol>
<p>Joins error output with regular output:
<div class="highlight"><pre><span></span><code><span class="c1">#PBS -j oe</span>
</code></pre></div></p>
<p>All of these options can also be specified on the command-line and will
overwrite any pragmas present in the script.</p>
<h2 id="exercises">Exercises<a class="headerlink" href="#exercises" title="Permanent link">#</a></h2>
<ol>
<li>
<p>Create a file that contains this message: "Hello, I am &lt;user&gt;",
    where <code>&lt;user&gt;</code> is replaced by your username. Don't cheat by using an
    editor, use a command to create the file.</p>
</li>
<li>
<p>Use another command to add this line to the same file: "I am on
    system &lt;hostname&gt; in directory &lt;current&nbsp;directory&gt;". Words
    between <code>&lt;&gt;</code> should be replaced with their value (hint: use
    environment variables).</p>
</li>
<li>
<p>How many files and directories are in <code>/tmp</code>?</p>
</li>
<li>
<p>What's the name of the 5th file/directory in alphabetical order in
    <code>/tmp</code>?</p>
</li>
<li>
<p>List all files that start with <code>t</code> in <code>/tmp</code>.</p>
</li>
<li>
<p>Create a file containing "My home directory &lt;home&gt; is available
    using $HOME". <code>&lt;home&gt;</code> should be replaced with your home directory,
    but <code>$HOME</code> should remain as-is.</p>
</li>
<li>
<p>How many processes are you currently running? How many are you
    allowed to run? Where are they coming from?</p>
</li>
</ol>





                
<script>
 if (!! localStorage.getItem('select_OS')) {
    const classes = ["headerlink", "md-nav__link"]
    for (i in classes) {
        var anchors = Array.from(document.getElementsByClassName(classes[i]))
        anchors.forEach(
            function (anch) {
                const href = anch.href;
                if (!!anch.href) {
                    // Remove OS part and search query in permalinks if it exists. Useful when copying the urls.
                    anch.href = anch.href.replace(/\/(Linux|macOS|Windows)\//i, "/").replace(/\?[^#]*/,"")
                }
                anch.addEventListener("click",(event) => {
                    // Redirect to real original target. (with OS,and search query)
                    event.target.href = href;
                })
            })
    }
}
</script>

              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.top", "navigation.expand", "navigation.tracking", "navigation.footer", "toc.follow", "navigation.sections", "navigation.instant", "search.suggest", "search.highlight", "search.share", "content.code.copy"], "search": "../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.51198bba.min.js"></script>
      
    
  </body>
</html>